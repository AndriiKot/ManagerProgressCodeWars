{
  "success": true,
  "url": "https://www.codewars.com/api/v1/code-challenges/64d8c4ca6fad18e1b3ece99c",
  "data": {
    "id": "64d8c4ca6fad18e1b3ece99c",
    "name": "Megavalanche Qualifiers",
    "slug": "megavalanche-qualifiers",
    "category": "algorithms",
    "publishedAt": "2023-08-19T18:26:06.265Z",
    "approvedAt": null,
    "languages": [
      "javascript"
    ],
    "url": "https://www.codewars.com/kata/64d8c4ca6fad18e1b3ece99c",
    "rank": {
      "id": null,
      "name": null,
      "color": null
    },
    "createdAt": "2023-08-13T11:55:54.676Z",
    "createdBy": {
      "username": "dfhwze",
      "url": "https://www.codewars.com/users/dfhwze"
    },
    "description": "<details open>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Introduction</summary>\n  \n> Since 1995, each year, thousands of riders from all over the world gather in Alpe d’Huez, France, to be part of an unique adventure : The Megavalanche MTB race !   Its Mass Start at 3330 meters high on the “Pic Blanc” glacier and its finish line in Allemond, 2600 meters further down, makes this ENDURO MASS-START race the longest and craziest downhill race in the world !\n<br /><a href=\"https://www.ucc-sportevent.com/en/megavalanche-alpe-dhuez-en/\">source</a>\n<br />\n> <i>Many of the riders used in this kata correspond to real riders, though the rules are fictional.</i>\n\n</details>\n\n<details open>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Task</summary>\n  \n> \"Given an object storing all information about a qualification race for the Megavalanche main event, output a string that renders the seeded riders for the main event.\"\n\n## Example\n\nThis example is meant to give an idea about what to expect from this kata. More details can be found in chapter <b>Specification</b>.\n\n- There is 1 heat, in which 6 contestants are registered\n- Tejchman wins, and qualifies directly for the main event (Q)\n- Peter is 2nd, and qualifies by top time (q)\n- Flagel is 3th, and qualifies as \"lucky loser\" (qq)\n- Weidemann Jensen did not finish the race (DNF)\n- Courmes did not start the race (DNS)\n\n### Output\n\n```\n---------------------------------------------------------------\n  S   Contestant                          Q      Time    H    R\n---------------------------------------------------------------\n  1.  Tejchman, Premek (2)                Q  00:21:49    1    1\n  2.  Peter, Stefan (1)                   q  00:21:50    1    2\n  3.  Flagel, Vincent (4)                qq  00:22:13    1    3\n  4.  Höss, Christoph (3)                 -  00:24:02    1    4\n  5.  Weidemann Jensen, Mads (5)          -       DNF    1    5\n  6.  Courmes, Tristan (6)                -       DNS    1    6\n---------------------------------------------------------------\n```\n\n### Input\n\n```\n{\n  T: 3,\n  Q: 1,\n  q: 1,\n  contestants: [\n    { seed: 1, name: 'Peter', firstName: 'Stefan' },\n    { seed: 2, name: 'Tejchman', firstName: 'Premek' },\n    { seed: 3, name: 'Höss', firstName: 'Christoph' },\n    { seed: 4, name: 'Flagel', firstName: 'Vincent' },\n    { seed: 5, name: 'Weidemann Jensen', firstName: 'Mads' },\n    { seed: 6, name: 'Courmes', firstName: 'Tristan' }\n  ],\n  heats: [ { nr: 1, seeds: [ 1, 2, 3, 4, 5, 6 ] } ],\n  raceResults: [\n    {\n      nr: 1,\n      results: [\n        { seed: 2, time: '00:21:49' },\n        { seed: 1, time: '00:21:50' },\n        { seed: 4, time: '00:22:13' },\n        { seed: 3, time: '00:24:02' },\n        { seed: 5, time: '' }\n      ]\n    }\n  ]\n}\n```\n  \n</details>\n\n<details open>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Specification</summary>\n  \n## Input\n\n- the input <code>qualifier</code> is an object that consists of the following properties:\n  - <code>T</code>: an integer <code>(1 ≤ T ≤ 100)</code> that represents the target number of riders to qualify to the main event\n  - <code>Q</code>: an integer <code>(0 ≤ Q ≤ 100)</code> that represents the target number of riders by heat to qualify by best rank to the main event\n  - <code>q</code>: an integer <code>(0 ≤ q ≤ 100)</code> that represents the target number of riders by heat to qualify by best time to the main event\n  - <code>contestants</code>: an array of <code>contestant</code> objects, each representing a rider registered to the qualifier, with each such object containing the following properties:\n    - <code>seed</code>: a unique continuous ascending integer starting at <code>1</code> indicating the seed of the rider at moment of registration to the qualifier. The lower the seed, the higher the rider is ranked in the world rankings.\n    - <code>name</code>: a string representing the last name of the rider\n    - <code>firstName</code>: a string representing the first name of the rider\n    - Note that there may be several riders having the same name and first name, however, they will have a different, unique, seed.\n  - <code>heats</code>: an array of <code>heat</code> objects, each representing a heat, or a race, in the qualifier, with each such object containing the following properties:\n    - <code>nr</code>: a unique continuous ascending integer starting at <code>1</code> indicating the number of the heat.\n    - <code>seeds</code>: an array of numbers, with each number referencing a seeded rider from contestants. Note that each seeded rider is registered in exactly one heat.\n  - <code>raceResults</code>: an array of <code>raceResult</code> objects, each representing the results of a race, with each such object containing the following properties:\n    - <code>nr</code>: a reference to the heat associated with the results\n    - <code>results</code>: an array of <code>result</code> objects indicating a result of each individual rider in a race, except for riders that did not even start the race, with each such object containing the following properties:\n      - <code>seed</code>: a reference to the seed of the rider\n      - <code>time</code>: a string displaying the time of the rider in format<code>HH:mm:ss</code>, or empty if the rider did not finish the race. Note that at most 2 riders may share the same time within each heat.\n  \n## Ranking Rules\n\n### Ranking riders in a heat\n\nWithin each heat, riders are ranked:\n  - by state (lowest state number first)\n    - state 0: rider finished the race\n    - state 1: rider did not finish the race\n    - state 2: rider did not start the race\n  - on tie, in state 0, by time (best time first)\n  - if still tie, same rank\n  \n```\nExample:\n\nA heat with seeded riders [1, 2, 3, 4, 5] and results received for 1 - 4.\n\nContestant        Time  State   Rank\n\nrider # 1    00:21:10      0      1\nrider # 2    00:21:34      0      2\nrider # 3    00:21:34      0      2\nrider # 4                  1      4   (did not finish -> time \"\")\nrider # 5                  2      5   (did not start -> no result record)\n```\n\n### Ranking riders across heat\n\nAcross heats, riders are ranked:\n  - by state (lowest state number first)\n    - state 0: rider qualifies by rank\n    - state 1: rider qualifies by time\n    - state 2: rider qualifies as lucky loser\n    - state 3: rider finishes race, but does not qualify\n    - state 4: rider did not finish the race\n    - state 5: rider did not start the race\n  - on tie, in state 0, by rank in heat (best rank first)\n    - still on tie: by time across heats (best time first)\n    - still on tie: by seed (highest seeded rider first -> the one with lowest seed number)\n  - on tie, state 1 - 5, by time across heats, if applicable (best time first)\n    - still on tie: by rank in heat (best rank first)\n    - still on tie: by seed (highest seeded rider first -> the one with lowest seed number)\n    \nNote: check <b>Main Rules</b> how to determine the state for each rider across heats.\n\n```\nExample:\n\nT: 3, Q: 1, q: 1\n\nHeat 1 with seeded riders [1, 2, 3] and results received for 1 - 3.\n\nContestant        Time  State   Rank\n\nrider # 1    00:21:10      0      1\nrider # 2    00:21:34      0      2\nrider # 3                  1      3   (did not finish -> time \"\")\n\nHeat 2 with seeded riders [4, 5, 6] and results received for 4 - 5.\n\nContestant        Time  State   Rank\n\nrider # 4    00:21:12      0      1\nrider # 5    00:21:13      0      2\nrider # 6                  2      3   (did not start -> no result record)\n\nRanking across heats:\n\nContestant        Time  State   Rank  Heat    Rank in Heat\n\nrider # 1    00:21:10      0      1     1               1          \nrider # 4    00:21:12      0      2     2               1\nrider # 5    00:21:13      1      3     2               2\nrider # 2    00:21:34      3      4     1               2\nrider # 3                  4      3     1               3 (did not finish -> time \"\")\nrider # 6                  5      3     2               3 (did not start -> no result record)\n\n```\n\n## Main Rules\n\nAll rules should be applied in chronological order.\n\n### Rule # 1: Direct Qualification (state 0)\n\n- for each heat, <code>Q</code> number of riders qualify directly for the main event, regardless of the target number of riders to qualify in total <code>T</code>.\n- only riders that finish the race are eligible to qualify directly\n- if not enough riders finish, less than <code>Q</code> number of riders qualify in the heat\n- if the last position of direct qualification results in a tie, both riders qualify, meaning the heat has <code>Q + 1</code> direct qualifiers, but for the heat, the number of qualifiers by time decreases by 1 to <code>q - 1</code>\n- for each rider that qualifies directly, <code>T</code> decreases by one. Note that this number can become negative, as all riders that directly qualify, go through to the main event.\n- see <b>Ranking Rules</b> how to rank riders that directly qualify\n\n### Rule # 2: Qualification by Best Time (state 1)\n\n- as long <code>T</code> remains positive, add riders with best times across heats to the main event. Decrease <code>T</code> by 1 for each such rider eligible.\n- only riders that finish the race are eligible to qualify by best time\n- only heats where <code>q</code> is positive are eligible to pick riders by best time; this is to ensure riders from a race where weather conditions were worse than others, don't suffer too much penalty from these conditions\n- decrease <code>q</code> by 1 for each heat each time a rider is picked by best time\n- see <b>Ranking Rules</b> how to rank riders that qualify by best time\n\n### Rule # 3: Qualification of Lucky Losers (state 2)\n\n- as long <code>T</code> remains positive, add riders with best times across heats to the main event. Decrease <code>T</code> by 1 for each such rider eligible.\n- only riders that finish the race are eligible to qualify as lucky loser\n- all heats are applicable again, even if <code>q</code> for that heat is no longer positive.\n- see <b>Ranking Rules</b> how to rank riders that qualify as lucky losers\n\n### Rule # 4: Finishes race but unable to qualify (state 3)\n\n- at this stage, <code>T</code> is no longer positive, or no more riders remain.\n- only riders that finish the race are eligible to get an honourable mention\n- see <b>Ranking Rules</b> how to rank riders that finish the race, but did not qualify to the main event\n\n### Rule # 5: Does not finish race (state 4)\n\n- only riders that did not finish the race are eligible\n- see <b>Ranking Rules</b> how to rank riders that did not finish the race\n\n### Rule # 6: Does not start race (state 5)\n\n- only riders that did not start the race are eligible\n- see <b>Ranking Rules</b> how to rank riders that did not start the race\n\n## Output\n\n```\n---------------------------------------------------------------\n  S   Contestant                          Q      Time    H    R\n---------------------------------------------------------------\n  1.  Tejchman, Premek (2)                Q  00:21:49    1    1\n  2.  Peter, Stefan (1)                   q  00:21:50    1    2\n  3.  Flagel, Vincent (4)                qq  00:22:13    1    3\n  4.  Höss, Christoph (3)                 -  00:24:02    1    4\n  5.  Weidemann Jensen, Mads (5)          -       DNF    1    5\n  6.  Courmes, Tristan (6)                -       DNS    1    6\n---------------------------------------------------------------\n```\n\n- Return a <code>'\\n'</code> delimited string.\n- start by a row delimiter <code>'-'</code> size 63 chars\n- render the header\n- render a row delimiter <code>'-'</code> size 63 chars\n- render each contestant in order by rank across heats, as calculated from <b>Ranking Rules</b> and <b>Main Rules</b>\n- render a row delimiter <code>'-'</code> size 63 chars\n\n### Columns\n\n- all columns are delimited by a space <code>' '</code>\n- 1st column: dense rank of riders across heats\n  - <code>'S'</code> in header\n  - unique ascending dense rank, starting at 1, of riders\n  - you must grant this rank based on the rules of this kata\n  - pad left 3 times <code>' '</code>\n  - append <code>'  '</code> in header, and <code>'. '</code> in rows\n- 2nd column: contestant information\n  - <code>'Contestant'</code> in header\n  - format information about rider: $name, $firstName ($seed)\n  - pad right 34 times <code>' '</code>\n- 3rd column: state information\n  - <code>'Q'</code> in header\n  - grant state token to rider associated to state you have calculated for that rider:\n    - state 0: <code>'Q'</code>\n    - state 1: <code>'q'</code>\n    - state 2: <code>'qq'</code>\n    - all other states: <code>'-'</code>\n  - pad left 2 times <code>' '</code>\n- 4th column: time information\n  - <code>'Time'</code> in header\n  - show time info based on state you have calculated for that rider:\n    - state 0 - 3: time in format 'HH:mm:ss'\n    - state 4: <code>'DNF'</code>\n    - state 5: <code>'DNS'</code>\n  - pad left 9 times <code>' '</code>\n- 5th column: heat number\n  - <code>'H'</code> in header\n  - show heat nr of rider\n  - pad left 4 times <code>' '</code>\n- 6th column: rank in heat\n  - <code>'R'</code> in header\n  - show rank of rider in their heat, as calculated by you given the rules\n  - pad left 4 times <code>' '</code>\n  \n</details>\n\n<details open>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\nConstraints</summary>\n  \n- Sample and fixed tests for 1 and 2 heats.\n- 3 batches of 200 random tests for each 'number of heats' between 1 and 8.\n  \n</details>",
    "totalAttempts": 63,
    "totalCompleted": 3,
    "totalStars": 4,
    "voteScore": 8,
    "tags": [
      "Algorithms",
      "Strings",
      "Sorting"
    ],
    "contributorsWanted": true,
    "unresolved": {
      "issues": 0,
      "suggestions": 0
    }
  },
  "error": null,
  "isValid": false,
  "validationErrors": [
    {
      "path": "approvedBy",
      "message": "Required field 'approvedBy' is missing"
    },
    {
      "path": "rank.id",
      "message": "Expected integer, got object (not integer)"
    },
    {
      "path": "rank.name",
      "message": "Expected type 'string', got 'object'"
    },
    {
      "path": "rank.color",
      "message": "Expected type 'string', got 'object'"
    },
    {
      "path": "approvedBy",
      "message": "Required field 'approvedBy' is missing"
    },
    {
      "path": "approvedAt",
      "message": "Expected type 'string', got 'object'"
    }
  ]
}