{
  "success": true,
  "url": "https://www.codewars.com/api/v1/code-challenges/52fcc820f7214727bc0004b7",
  "data": {
    "id": "52fcc820f7214727bc0004b7",
    "name": "Check and Mate?",
    "slug": "check-and-mate",
    "category": "algorithms",
    "publishedAt": "2014-02-17T02:02:58.482Z",
    "approvedAt": "2017-04-16T15:45:04.877Z",
    "languages": [
      "javascript",
      "coffeescript",
      "python",
      "java",
      "typescript",
      "php",
      "csharp"
    ],
    "url": "https://www.codewars.com/kata/52fcc820f7214727bc0004b7",
    "rank": {
      "id": null,
      "name": null,
      "color": null
    },
    "createdAt": "2014-02-13T13:26:56.440Z",
    "createdBy": {
      "username": "Zirgion",
      "url": "https://www.codewars.com/users/Zirgion"
    },
    "approvedBy": {
      "username": "donaldsebleung",
      "url": "https://www.codewars.com/users/donaldsebleung"
    },
    "description": "### Task\n\nIn this kata, you should implement two chess functions: `isCheck` and `isMate`.\n\nBoth functions have two parameters - `player` signifies whose turn it is (0 denotes white and 1 black), and `pieces` is an list or array of objects (***PHP:*** Array of associative arrays), describing the pieces on the board. \n\n`isCheck` should return an list or array of the pieces (in any order) that threaten `player`'s king, or `false` if the king is not threatened (***Java:*** return a `Set<Piece>` object of the threatening pieces, or an empty set if none are found).\n(***PHP:*** return an array of associative arrays, false if none are found.)\n\n`isMate` should return `true` if `player` can't make a move that takes their king out of check, and `false` if they can make such a move, or if the position is not check.\n\n### Details\n\nEach piece in the input array is specified in the following way:\n```csharp\n    public enum FigureType { Pawn, King, Queen, Rook, Knight, Bishop}\n\n    //struct to make it convenient to work with cells\n    public struct Pos\n    {\n        public readonly sbyte X;\n        public readonly sbyte Y;\n\n        public Pos(sbyte y, sbyte x);\n        public Pos(int y, int x);\n\n        public override bool Equals(object obj);\n        public override int GetHashCode();\n    }\n\n    public class Figure\n    {\n        public FigureType Type { get; }\n        public byte Owner { get; }\n        public Pos Cell { get; set; }\n        public Pos? PrevCell { get; }\n\n        public Figure(FigureType type, byte owner, Pos cell, Pos? prevCell = null);\n    }\n```    \n```javascript\n{\n  piece: string, // pawn, rook, knight, bishop, queen or king\n  owner: int,    // 0 for white or 1 for black\n  x: int,        // 0-7 where 0 is the leftmost column (or \"A\")\n  y: int,        // 0-7 where 0 is the top row (or \"8\" in the board below)\n  prevX: int,    // 0-7, presents this piece's previous x, only given if this is the piece that was just moved\n  prevY: int     // 0-7, presents this piece's previous y, only given if this is the piece that was just moved\n}\n```\n```typescript\n{\n  piece: 'king' | 'queen' | 'bishop' | 'knight' | 'rook' | 'pawn'\n  owner: 0 | 1,    // 0 for white or 1 for black\n  x: 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7,        // 0 is the leftmost column (or \"A\")\n  y: 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7,        // 0 is the top row (or \"8\" in the board below)\n  prevX: 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7,    // presents this piece's previous x, only given if this is the piece that was just moved\n  prevY: 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7     // presents this piece's previous y, only given if this is the piece that was just moved\n}\n```\n```coffeescript\n{\n  piece: string, # pawn, rook, knight, bishop, queen or king\n  owner: int,    # 0 for white or 1 for black\n  x: int,        # 0-7 where 0 is the leftmost column (or \"A\")\n  y: int,        # 0-7 where 0 is the top row (or \"8\" in the board below)\n  prevX: int,    # 0-7, presents this piece's previous x, only given if this is the piece that was just moved\n  prevY: int     # 0-7, presents this piece's previous y, only given if this is the piece that was just moved\n}\n```\n```php\n# Array of associative arrays\n[\n  \"piece\" : string, # pawn, rook, knight, bishop, queen or king\n  \"owner\" : int,    # 0 for white or 1 for black\n  \"x\" : int,        # 0-7 where 0 is the leftmost column (or \"A\" in the board below)\n  \"y\" : int,        # 0-7 where 0 is the top row (or \"8\" in the board below)\n  \"prevX\" : int     # 0-7, presents this piece's previous x, only given if this is the piece           that was just moved\n  \"prevY\" : int,    # 0-7, presents this piece's previous y, only given if this is the piece that was just moved\n]\n\n# For example: $pieces[0][\"piece\"] might return \"rook\"\n```\n```python\n{\n  'piece': string, # either \"pawn\", \"rook\", \"knight\", \"bishop\", \"queen\" or \"king\"\n  'owner': int,    # 0 for white or 1 for black\n  'x': int,        # 0-7, where 0 is the leftmost column (\"a\" in the board below)\n  'y': int,        # 0-7, where 0 is the top row (\"8\" in the board below)\n}\n```\n```java\nPieceConfig[] pieces, whose properties are:\n{ 'piece': string,     // pawn, rook, knight, bishop, queen or king\n  'owner': int,        // 0 for white or 1 for black\n  'x': int,            // 0-7 where 0 is the leftmost column (or \"A\")\n  'y': int,            // 0-7 where 0 is the top row (or \"8\" in the board below)\n  'prevX': int,        // 0-7, presents this piece's previous x, only given if this is the piece that was just moved\n  'prevY': int}        // 0-7, presents this piece's previous y, only given if this is the piece that was just moved \n\nAll fields are private and final.\nYou may find below the usefull available methods/informations about the PieceConfig instances:\n\n    class PieceConfig {\n        public PieceConfig(final String piece, final int owner, final int x, final int y, final int prevX, final int prevY)\n        public PieceConfig(final String piece, final int owner, final int x, final int y)\n        public String getPiece()  \n        public int getOwner()        \n        public int getX()            \n        public int getY()               \n        public boolean hasPrevious() \n        public int getPrevX()        // will throw a RuntimeException if invoked for an object that do not have informations about its previous move.\n        public int getPrevY()        // will throw a RuntimeException if invoked for an object that do not have informations about its previous move.\n                \n        @Override public int hashCode()\n        @Override public String toString()  //return string formated as :\"piece: king, owner: 0, x: 0, y: 4\" (plus prevX and prevY if needed)\n        @Override public boolean equals(Object other)\n```\n\nBlack's pieces' starting positions are at the top of the board (`'y'` equals 0 and 1). The bottom (`'y'` equals 6 and 7) is white's home. The initial position is shown below. The numbers in parentheses across the top correspond to the `'x'` coordinate and those along the left  to the `'y'` coordinate. For example, the pawn in front of the white king is denoted by `{'piece': \"pawn\", 'owner': 0, 'x': 4, 'y': 6}`.\n<table style='width: 215px; background-color:black; font-size: 10px; border-collapse: collapse;'><tr><td style='line-height: 1; padding: 0; height:25px; width: 40px;'></td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(0)<br>a</td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(1)<br>b</td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(2)<br>c</td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(3)<br>d</td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(4)<br>e</td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(5)<br>f</td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(6)<br>g</td><td style='line-height: 1; padding: 0; text-align: center; width: 25px; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(7)<br>h</td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(0) 8</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♜</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♞</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♝</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♛</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♚</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♝</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♞</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♜</td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(1) 7</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♟</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♟</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♟</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♟</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♟</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♟</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♟</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♟</td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(2) 6</td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(3) 5</td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(4) 4</td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(5) 3</td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: #aaaaaa;'></td><td style='line-height: 1; padding: 0; border: 0; padding: 0; background-color: white;'></td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(6) 2</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♙</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♙</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♙</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♙</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♙</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♙</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♙</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♙</td></tr><tr><td style='line-height: 1; padding: 0; height: 25px; text-align: center; border: 0; padding: 0; background-color: black; color:white; font-size: 10px;'>(7) 1</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♖</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♘</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♗</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♕</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♔</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♗</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: #aaaaaa;'>♘</td><td style='line-height: 1; padding: 0; text-align: center; color: black; font-size: 20px; border: 0; background-color: white;'>♖</td></tr></table><br><font size=2><i>Note: if you do not see correctly the pieces on the board, please install the \"Deja Vu Sans\" font.</i></font>\n\nNOTE:\n\n(1) The pieces in the input array are not in any particular order.\n\n(2) Both functions should work in noninvasive fashion - don't change the contents of the array or any values of any piece in it.\n\n(3) You can assume that the input array represent a valid chess position. This means there are no pawns on the first or last rank, both kings cannot be in check, no griffins, etc. The random tests sometimes generate positions that couldn't arise in a legal game of chess - for example, a king might be checked by 3 or more pieces. You don't have to detect this - your functions should still work correctly in these situations.\n\n(4) To help with debugging, a function `outputBoard(pieces)` (***Java:*** static method `OutputBoard.print(pieces)`, ***PHP:*** `outputBoard($pieces)`, ***C#:*** static method void `Figures.OutputBoard(IList<Figure> figures)`) is provided which displays the board in the testing output. If your code fails a test, analyze the situation on the board. If all else fails, ask for help in Discourse.\n\n#### En passant\n\nA comprehensive list of how each chess piece moves can be found at http://en.wikipedia.org/wiki/Chess#Movement. The most confusing of these rules is \"en passant\". Although pawns usually capture diagonally, in one situation a pawn can capture an enemy pawn on the square horizontally next to it. This is allowed if on the previous move the enemy pawn moved two squares from its initial position.\n\nIn order to determine whether \"en passant\" is possible, the array of pieces might have one piece with two additional attributes: `'prevX'` and `'prevY'`. These indicate that it was the most recently moved piece, with `'prevX'` and `'prevY'` giving its previous location. Your functions only need to use this information to handle \"en passant\".\n\nNOTE: If a piece has `'prevX'`, `'prevY'` attributes, the `outputBoard` function displays its previous location in light-gray. This is sometimes done whether or not \"en passant\" is possible - it makes the displayed board more informative (for example, in some of the beautiful mating positions in the sample tests.)\n\n",
    "totalAttempts": 26724,
    "totalCompleted": 485,
    "totalStars": 336,
    "voteScore": 193,
    "tags": [
      "Logic",
      "Arrays",
      "Data Structures",
      "Games",
      "Algorithms"
    ],
    "contributorsWanted": true,
    "unresolved": {
      "issues": 2,
      "suggestions": 3
    }
  },
  "error": null,
  "isValid": false,
  "validationErrors": [
    {
      "path": "rank.id",
      "message": "Expected integer, got object (not integer)"
    },
    {
      "path": "rank.name",
      "message": "Expected type 'string', got 'object'"
    },
    {
      "path": "rank.color",
      "message": "Expected type 'string', got 'object'"
    }
  ]
}