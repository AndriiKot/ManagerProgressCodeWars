{
  "id": "644bfcfd5017eda306cf6755",
  "name": "Action Movie Rentals: Finding the Most Popular Day Of Week",
  "slug": "action-movie-rentals-finding-the-most-popular-day-of-week",
  "category": "reference",
  "publishedAt": "2023-04-28T17:29:56.089Z",
  "approvedAt": "2023-05-31T07:40:46.661Z",
  "languages": [
    "sql"
  ],
  "url": "https://www.codewars.com/kata/644bfcfd5017eda306cf6755",
  "rank": {
    "id": -6,
    "name": "6 kyu",
    "color": "yellow"
  },
  "createdAt": "2023-04-28T17:06:05.584Z",
  "createdBy": {
    "username": "bornForThis",
    "url": "https://www.codewars.com/users/bornForThis"
  },
  "approvedBy": {
    "username": "dfhwze",
    "url": "https://www.codewars.com/users/dfhwze"
  },
  "description": "In this task you need to analyze the popularity of action movies by day of the week. Your goal is to determine which day of the week is the most popular for renting movies from \"Action\" category. In the resultant query you need to return `film_id`, `film_title`, and `most_popular_day_of_week` where `most_popular_day_of_week` is one of the following 3-letter abbreviations: MON, TUE, WED, THU, FRI, SAT, SUN. Result should be sorted by film title alphabetically, and if film title is the same - then by film_id in asc order.\n\n\n##### Notes:\n\n*  for the sample tests, static dump of [DVD Rental Sample Database](http://www.postgresqltutorial.com/postgresql-sample-database/) is used, for the final solution - random tests.\n* \"most popular\" = the most amount of rentals happened on that day of week for the film. If there is a tie, then simply return the day of week that appears first in alphabetical order.\n* lets assume that every film has non zero amount of rentals\n* as a hint, it can be done without using window functions\n\n\n### Schema\n(not all columns - part of the domain required to solve this kata)\n\n#### `film` table:\n```\nColumn           | Type     | Modifiers\n-----------------+----------+----------\nfilm_id          | integer  | not null\ntitle            | varchar  | not null\n```\n\n#### `film_category` table:\n```\nColumn      | Type      | Modifiers\n------------+---------- +----------\nfilm_id     | smallint  | not null\ncategory_id | smallint  | not null\n````\n#### `category` table:\n```\nColumn      | Type      | Modifiers\n------------+-----------+----------\ncategory_id | smallint  | not null\nname        | text      | not null\n```\n\n#### `rental` table:\n```\nColumn       | Type      | Modifiers\n-------------+-----------+----------\nrental_id    | integer   | not null\ninventory_id | integer   | not null\nrental_date  | timestamp | not null\nreturn_date  | timestamp | \n```\n\n#### `inventory` table:\n```\nColumn       | Type      | Modifiers\n------------ +-----------+----------\ninventory_id | integer   | not null\nfilm_id      | smallint  | not null\n```\n\n### Desired Output\n\nThe desired output should look like this:\n\n```\nfilm_id | film_title             | most_popular_day_of_week |\n--------+------------------------+--------------------------|\n   324  | Django Unchained       | MON                      | \n   14   | 12 Years a Slave       | SAT                      |\n...\n```",
  "totalAttempts": 1001,
  "totalCompleted": 135,
  "totalStars": 18,
  "voteScore": 40,
  "tags": [
    "SQL",
    "Databases"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}