{
  "id": "5735e39313c205fe39001173",
  "name": "Training JS #37: Unlock new weapon---RegExp Object",
  "slug": "training-js-number-37-unlock-new-weapon-regexp-object",
  "category": "reference",
  "publishedAt": "2016-05-16T07:10:56.617Z",
  "approvedAt": "2016-05-31T09:26:28.279Z",
  "languages": [
    "javascript"
  ],
  "url": "https://www.codewars.com/kata/5735e39313c205fe39001173",
  "rank": {
    "id": -7,
    "name": "7 kyu",
    "color": "white"
  },
  "createdAt": "2016-05-13T14:24:19.317Z",
  "createdBy": {
    "username": "myjinxin2015",
    "url": "https://www.codewars.com/users/myjinxin2015"
  },
  "approvedBy": {
    "username": "donaldsebleung",
    "url": "https://www.codewars.com/users/donaldsebleung"
  },
  "description": "My warrior, you have learned a lot of useful skills from me. You have proved your courage. As a reward, I will give you a new weapon: ```RegExp Object```.\n\n```RegExp Object``` can create a regular expressions, used to match a particular content in a string.\n\nThe definitions and detailed information:\n\n- [RegExp](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp)\n\nLet's create our first regular expression, there are two ways:\n```javascript\nvar reg1=/abc/\nvar reg2=new RegExp(\"abc\")\nconsole.log(reg1,reg2)  //output: /abc/ /abc/\n```\nWe can see that we have created regular expressions in two ways. The first method is direct writing, the second method uses the ```new``` keyword. Their results are the same, the only difference is that using the second methods can use variables. See examples of using variables:\n```javascript\nvar words=[\"abc\",\"123\",\"&##\"];\nfor (var r of words){\n  var reg=new RegExp(r)\n  console.log(reg)\n}\n//output: \n/abc/\n/123/\n/&##/\n```\nThe main part of the regular expression is like what we see: At the beginning is \"/\", the end is \"/\" too. The other option is flag, which is optional. Each option is a letter, they include: \"g\"(global match), \"i\"(ignore case), \"m\"(multiline match), \"u\"(unicode), \"y\"(sticky). They are attached to the tail of the regular expression.\n\nWe often use the options: \"g\" and \"i\". \"g\" can let us in a string matching to multiple results; \"i\" can let us at the same time matching to the upper case and lower case letters.\n\nIn this lesson we only learn the most basic usage of regular expressions: only the characters that are explicitly pointed out. At the same time, we need to review some of the previous string methods (which can use regular expressions). Here are some examples:\n\n1) ```search()```\n```javascript\n//example for search()\nvar str=\"abcde\";\nconsole.log( str.search(/abc/) )  //output: 0\nconsole.log( str.search(\"abc\") )  //output: 0\nconsole.log( str.search(/cde/) )  //output: 2\nconsole.log( str.search(\"cde\") )  //output: 2\n```\nWe can see that using a basic regular expression and using a string is the same. But in some cases they will have different results:\n```javascript\n//example for search()\nvar str=\"ABCDEabcde\";\nconsole.log( str.search(/abc/) )   //output: 5\nconsole.log( str.search(/abc/i) )  //output: 0\nconsole.log( str.search(/cde/) )   //output: 7\nconsole.log( str.search(/cde/ig) ) //output: 2\n```\nUsing the \"i\" flag, the ```search()``` method matches the \"ABC\" and \"CDE\". The ```search()``` method does not support \"g\" flag (global matching), it only returns the position of the first match string.\n\n2) ```replace()```. It allows the use of ```\"i\"``` and ```\"g\"```:\n\n```javascript\n//example for replace()\nvar str=\"Hello World! Hello CodeWars!\"\nconsole.log( str.replace(/world/,\"javascript\") )  \n//output: Hello World! Hello CodeWars!   \n//(There is no match to the string, so nothing is replaced.)\n\nconsole.log( str.replace(/world/i,\"Javascript\") )  \n//output: Hello Javascript! Hello CodeWars!   \n//(Using \"i\" flag to match \"World\" and replace it by \"Javascript\")\n\nconsole.log( str.replace(/Hello/g,\"I love\") )  \n//output: I love World! I love CodeWars!   \n//(Using \"g\" flag to match two \"Hello\" and replace it by \"I love\")\n```\n\n3) ```split()```. It uses the ```\"g\"``` option by default, regardless of whether you specify it or not.\n```javascript\n//example for split()\nvar str=\"ababaBa\"\nconsole.log( str.split(/b/) )   //output: [ 'a', 'a', 'aBa' ]\nconsole.log( str.split(/b/g) )  //output: [ 'a', 'a', 'aBa' ]\nconsole.log( str.split(/b/i) )  //output: [ 'a', 'a', 'a', 'a' ]\n```\n4) ```match()```. We have not learned this method before, because its parameter is a regular expression. Its result is an array that includes the matching results of regular expressions. We mainly use this method in the example to demonstrate the effect of regular expressions. See an example:\n```javascript\n//example for match()\nvar str=\"ABABCDEababcde\";\nconsole.log(str.match(/a/))  //output: [ 'a', index: 7, input: 'ABABCDEababcde' ]\nconsole.log(str.match(/a/i)) //output: [ 'A', index: 0, input: 'ABABCDEababcde' ]\nconsole.log(str.match(/a/ig))//output: [ 'A', 'A', 'a', 'a' ]\nconsole.log(str.match(/ab/)) //output: [ 'ab', index: 7, input: 'ABABCDEababcde' ]\nconsole.log(str.match(/ab/i))//output: [ 'AB', index: 0, input: 'ABABCDEababcde' ]\nconsole.log(str.match(/ab/ig))//output: [ 'AB', 'AB', 'ab', 'ab' ]\nconsole.log(str.match(/xyz/)) //output: null\n```\nWe can see:\nWhen the matching result is more than one, the output is an array of strings that contain all the matching results; When the matching result is one, the output is a list containing the matching string, the matching index and the original string. If there is no match result, the output is ```null```.\n\nWe often use ```match()``` or ```replace()``` or ```split()``` to count the number of characters in a string:\n```javascript\n//example for match()\nfunction count1(str,char){\n  return str.match(new RegExp(char,\"g\")).length\n}\nfunction count2(str,char){\n  return str.length-str.replace(new RegExp(char,\"g\"),\"\").length;\n}\nfunction count3(str,char){\n  return str.split(char).length-1;\n}\nconsole.log(count1(\"aaaaa\",\"a\"))  //output: 5\nconsole.log(count2(\"aaaaa\",\"a\"))  //output: 5\nconsole.log(count3(\"aaaaa\",\"a\"))  //output: 5\nconsole.log(count1(\"aaaaa\",\"b\"))  \n//output: TypeError: Cannot read property 'length' of null\nconsole.log(count2(\"aaaaa\",\"b\"))  //output: 0\nconsole.log(count3(\"aaaaa\",\"b\"))  //output: 0\n```\nThe three methods can achieve the same effect. We note that in the second time using ```match()```, we got a ```\"TypeError\"```. Because the ```match()``` does not match to the string, its result is ```null```, ```null``` does not have the length attribute. We can change it this way:\n```javascript\n//example for match()\nfunction count1(str,char){\n  return (str.match(new RegExp(char,\"g\"))||[]).length\n}\nconsole.log(count1(\"aaaaa\",\"a\"))  //output: 5\nconsole.log(count1(\"aaaaa\",\"b\"))  //output: 0\n```\nThis will avoid the errors.\n\nOk, lesson is over. let's us do some task.\n\n## Task\n\nCoding in function ```countAnimals```. function accept two parameters: ```animals```, a string contains some animals; ```count```, an array list of which animals we should count. The result should be a number array.\n\n## Examples\n\n```javascript\ncountAnimals(\"dog,cat\",[\"dog\",\"cat\"]); //=> [1,1]\ncountAnimals(\"dog,cat\",[\"dog\",\"cat\",\"pig\"]); //=> [1,1,0]\ncountAnimals(\"dog,dog,cat\",[\"dog\",\"cat\"]); //=> [2,1]\ncountAnimals(\"dog,dog,cat\",[\"pig\",\"cow\"]); //=> [0,0]\n```\n    \n## [Series](http://github.com/myjinxin2015/Katas-list-of-Training-JS-series)\n\n( ↑↑↑ Click the link above can get my newest kata list, Please add it to your favorites)\n\n - [#1: create your first JS function helloWorld](http://www.codewars.com/kata/571ec274b1c8d4a61c0000c8)\n - [#2: Basic data types--Number](http://www.codewars.com/kata/571edd157e8954bab500032d)\n - [#3:  Basic data types--String](http://www.codewars.com/kata/571edea4b625edcb51000d8e)\n - [#4:  Basic data types--Array](http://www.codewars.com/kata/571effabb625ed9b0600107a)\n - [#5:  Basic data types--Object](http://www.codewars.com/kata/571f1eb77e8954a812000837)\n - [#6:  Basic data types--Boolean and conditional statements if..else](http://www.codewars.com/kata/571f832f07363d295d001ba8)\n - [#7:  if..else and ternary operator](http://www.codewars.com/kata/57202aefe8d6c514300001fd)\n - [#8: Conditional statement--switch](http://www.codewars.com/kata/572059afc2f4612825000d8a)\n - [#9: loop statement --while and do..while](http://www.codewars.com/kata/57216d4bcdd71175d6000560)\n - [#10: loop statement --for](http://www.codewars.com/kata/5721a78c283129e416000999)\n - [#11: loop statement --break,continue](http://www.codewars.com/kata/5721c189cdd71194c1000b9b)\n - [#12: loop statement --for..in and for..of](http://www.codewars.com/kata/5722b3f0bd5583cf44001000)\n - [#13: Number object and  its properties](http://www.codewars.com/kata/5722fd3ab7162a3a4500031f)\n - [#14: Methods of Number object--toString() and toLocaleString()](http://www.codewars.com/kata/57238ceaef9008adc7000603)\n - [#15: Methods of Number object--toFixed(), toExponential() and toPrecision()](http://www.codewars.com/kata/57256064856584bc47000611)\n - [#16: Methods of String object--slice(), substring() and substr()](http://www.codewars.com/kata/57274562c8dcebe77e001012)\n - [#17: Methods of String object--indexOf(), lastIndexOf() and search()](http://www.codewars.com/kata/57277a31e5e51450a4000010)\n - [#18: Methods of String object--concat() split() and its good friend join()](http://www.codewars.com/kata/57280481e8118511f7000ffa)\n - [#19: Methods of String object--toUpperCase() toLowerCase() and replace()](http://www.codewars.com/kata/5728203b7fc662a4c4000ef3)\n - [#20: Methods of String object--charAt() charCodeAt() and fromCharCode()](http://www.codewars.com/kata/57284d23e81185ae6200162a)\n - [#21: Methods of String object--trim() and the string template](http://www.codewars.com/kata/5729b103dd8bac11a900119e)\n - [#22: Unlock new skills--Arrow function,spread operator and deconstruction](http://www.codewars.com/kata/572ab0cfa3af384df7000ff8)\n - [#23: methods of arrayObject---push(), pop(), shift() and unshift()](http://www.codewars.com/kata/572af273a3af3836660014a1)\n - [#24: methods of arrayObject---splice() and slice()](http://www.codewars.com/kata/572cb264362806af46000793)\n - [#25: methods of arrayObject---reverse() and sort()](http://www.codewars.com/kata/572df796914b5ba27c000c90)\n - [#26: methods of arrayObject---map()](http://www.codewars.com/kata/572fdeb4380bb703fc00002c)\n - [#27: methods of arrayObject---filter()](http://www.codewars.com/kata/573023c81add650b84000429)\n - [#28: methods of arrayObject---every() and some()](http://www.codewars.com/kata/57308546bd9f0987c2000d07)\n - [#29: methods of arrayObject---concat() and join()](http://www.codewars.com/kata/5731861d05d14d6f50000626)\n - [#30: methods of arrayObject---reduce() and reduceRight()](http://www.codewars.com/kata/573156709a231dcec9000ee8)\n - [#31: methods of arrayObject---isArray() indexOf() and toString()](http://www.codewars.com/kata/5732b0351eb838d03300101d)\n - [#32: methods of Math---round() ceil() and floor()](http://www.codewars.com/kata/5732d3c9791aafb0e4001236)\n - [#33: methods of Math---max() min() and abs()](http://www.codewars.com/kata/5733d6c2d780e20173000baa)\n - [#34: methods of Math---pow() sqrt() and cbrt()](http://www.codewars.com/kata/5733f948d780e27df6000e33)\n - [#35: methods of Math---log() and its family](http://www.codewars.com/kata/57353de879ccaeb9f8000564)\n - [#36: methods of Math---kata author's lover:random()](http://www.codewars.com/kata/5735956413c2054a680009ec)\n - [#37: Unlock new weapon---RegExp Object](http://www.codewars.com/kata/5735e39313c205fe39001173)\n - [#38: Regular Expression--\"^\",\"$\", \".\" and test()](http://www.codewars.com/kata/573975d3ac3eec695b0013e0)\n - [#39: Regular Expression--\"?\", \"*\", \"+\" and \"{}\"](http://www.codewars.com/kata/573bca07dffc1aa693000139)\n - [#40: Regular Expression--\"|\", \"[]\" and \"()\"](http://www.codewars.com/kata/573d11c48b97c0ad970002d4)\n - [#41: Regular Expression--\"\\\"](http://www.codewars.com/kata/573e6831e3201f6a9b000971)\n - [#42: Regular Expression--(?:), (?=) and (?!)](http://www.codewars.com/kata/573fb9223f9793e485000453)\n ",
  "totalAttempts": 4863,
  "totalCompleted": 1891,
  "totalStars": 88,
  "voteScore": 269,
  "tags": [
    "Fundamentals",
    "Regular Expressions",
    "Tutorials"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}