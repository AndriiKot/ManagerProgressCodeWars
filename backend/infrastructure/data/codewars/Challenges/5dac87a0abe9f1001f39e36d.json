{
  "id": "5dac87a0abe9f1001f39e36d",
  "name": "Analyzing the sales by product and date",
  "slug": "analyzing-the-sales-by-product-and-date",
  "category": "algorithms",
  "publishedAt": "2019-10-20T16:50:42.496Z",
  "approvedAt": "2020-04-23T01:35:20.507Z",
  "languages": [
    "sql"
  ],
  "url": "https://www.codewars.com/kata/5dac87a0abe9f1001f39e36d",
  "rank": {
    "id": -6,
    "name": "6 kyu",
    "color": "yellow"
  },
  "createdAt": "2019-10-20T16:13:21.401Z",
  "createdBy": {
    "username": "FArekkusu",
    "url": "https://www.codewars.com/users/FArekkusu"
  },
  "approvedBy": {
    "username": "Voile",
    "url": "https://www.codewars.com/users/Voile"
  },
  "description": "## Task\n\nGiven the information about sales in a store, calculate the total revenue for each day, month, year, and product.\n\n## Notes\n* The `sales` table stores only the dates for which any data has been recorded - the information about individual sales (what was sold, and when) is stored in the `sales_details` table instead\n* The `sales_details` table stores totals per product per date\n* Order the result by the `product_name`, `year`, `month`, `day` columns\n* We're interested only in the product-specific data, so you shouldn't return the total revenue from all sales\n\n___\n\n## Input tables\n\n```\n----------------------------------------\n|    Table      |   Column   |  Type   |\n|---------------+------------+---------|\n| products      | id         | int     |\n|               | name       | text    |\n|               | price      | numeric |\n|---------------+------------+---------|\n| sales         | id         | int     |\n|               | date       | date    |\n|---------------+------------+---------|\n| sales_details | id         | int     |\n|               | sale_id    | int     |\n|               | product_id | int     |\n|               | count      | int     |\n-----------------------------------------\n```\n\n## Output table\n\n```\n--------------------------\n|    Column    |  Type   |\n|--------------+---------|\n| product_name | text    |\n| year         | int     |\n| month        | int     |\n| day          | int     |\n| total        | numeric |\n--------------------------\n```\n\n___\n\n## Example output\n\n```\nproduct_name | year | month | day | total\n-------------+------+-------+-----+------\n milk        | 2019 | 01    | 01  | 200\n milk        | 2019 | 01    | 02  | 190\n milk        | 2019 | 01    |     | 390\n milk        | 2019 | 02    | 01  | 240\n milk        | 2019 | 02    |     | 240\n milk        | 2019 |       |     | 630\n milk        |      |       |     | 630\n```",
  "totalAttempts": 20823,
  "totalCompleted": 2197,
  "totalStars": 150,
  "voteScore": 204,
  "tags": [
    "Algorithms"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}