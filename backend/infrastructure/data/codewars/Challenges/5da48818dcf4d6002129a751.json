{
  "id": "5da48818dcf4d6002129a751",
  "name": "Total items belonging to the categories on all tree levels",
  "slug": "total-items-belonging-to-the-categories-on-all-tree-levels",
  "category": "algorithms",
  "publishedAt": "2019-10-14T16:59:59.452Z",
  "approvedAt": "2022-10-05T15:21:31.997Z",
  "languages": [
    "sql"
  ],
  "url": "https://www.codewars.com/kata/5da48818dcf4d6002129a751",
  "rank": {
    "id": -4,
    "name": "4 kyu",
    "color": "blue"
  },
  "createdAt": "2019-10-14T14:37:12.635Z",
  "createdBy": {
    "username": "FArekkusu",
    "url": "https://www.codewars.com/users/FArekkusu"
  },
  "approvedBy": {
    "username": "Twilight_Sun",
    "url": "https://www.codewars.com/users/Twilight_Sun"
  },
  "description": "## Task\n\nFor each category in the tree-like `categories` table, calculate how many records in the `items` table belong to it and its parent categories across all the tree levels.\n\n## Notes\n* Items can only belong to the leaves of the category tree\n* There will be multiple roots for separate category trees\n* Order the result by the `id` column\n\n___\n\n## Input tables\n\n```\n-----------------------------------\n|   Table    |   Column    | Type |\n|------------+-------------+------|\n| categories | id          | int  |\n|            | parent      | int  |\n|------------+-------------+------|\n| items      | id          | int  |\n|            | category_id | int  |\n-----------------------------------\n```\n\n## Output table\n\n```\n------------------\n| Column | Type  |\n|--------+-------|\n| id     | int   |\n| total  | int   |\n------------------\n```\n\n___\n\n## Example\n\n```\nCategory tree:\n\n---(1)             [(3 + 6) items]\n    |\n    |---(2)        [3 items]\n    |\n    |---(3)        [(5 + 1 + 0) items]\n         |\n         |---(4)   [5 items]\n         |\n         |---(5)   [1 item]\n         |\n         |---(6)   [0 items]\n\n\nResulting table:\n\n  id   | total\n-------+-------\n   1   |   9\n   2   |   3\n   3   |   6\n   4   |   5\n   5   |   1\n   6   |   0\n```",
  "totalAttempts": 2186,
  "totalCompleted": 342,
  "totalStars": 43,
  "voteScore": 85,
  "tags": [
    "Algorithms"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}