{
  "id": "657ad603b99c910024520826",
  "name": " Insights for Online Store Product Variants",
  "slug": "insights-for-online-store-product-variants",
  "category": "reference",
  "publishedAt": "2023-12-14T10:53:48.574Z",
  "approvedAt": "2023-12-30T13:00:24.061Z",
  "languages": [
    "sql"
  ],
  "url": "https://www.codewars.com/kata/657ad603b99c910024520826",
  "rank": {
    "id": -6,
    "name": "6 kyu",
    "color": "yellow"
  },
  "createdAt": "2023-12-14T10:16:35.805Z",
  "createdBy": {
    "username": "bornForThis",
    "url": "https://www.codewars.com/users/bornForThis"
  },
  "approvedBy": {
    "username": "dfhwze",
    "url": "https://www.codewars.com/users/dfhwze"
  },
  "description": "You are provided with a table named `product_variants` in an online store's database. This table tracks different color and size variants of products along with their stock status. Your task is to write an SQL query that computes the total number of unique product variants and the number of in-stock variants for each product in an online store's inventory.\n\n`product_variants`:\n\n* `id` (int): Primary key\n* `product_id` (int): Identifier for the product.\n* `color_id` (int): Identifier for a specific color variant of the product.\n* `size_id` (int): Identifier for a specific size variant of the product.\n* `in_stock` (boolean): Indicates whether the variant is in stock (true for in stock, false for out of stock).\n\nCalculate the total number of unique variants for each product. A unique variant is defined by a unique combination of `color_id` and `size_id`. Calculate also the number of variants that are currently in stock for each product.\n\nThe output should have the following columns:\n\n1) `product_id`: The identifier for the product.\n2) `total_unique_variants`: The total number of unique variants of the product.\n3) `in_stock_variants`: The number of variants that are currently in stock.\n\nThe result should be sorted by `product_id` in ascending order.\n\nGLHF!",
  "totalAttempts": 836,
  "totalCompleted": 210,
  "totalStars": 6,
  "voteScore": 39,
  "tags": [
    "SQL",
    "Databases"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}