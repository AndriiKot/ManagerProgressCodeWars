{
  "id": "653f7207da59f62d2ee55035",
  "name": "Drug Dosages with Dual Unit Measurements",
  "slug": "drug-dosages-with-dual-unit-measurements",
  "category": "reference",
  "publishedAt": "2023-10-31T08:59:56.082Z",
  "approvedAt": "2023-11-03T10:10:50.556Z",
  "languages": [
    "sql"
  ],
  "url": "https://www.codewars.com/kata/653f7207da59f62d2ee55035",
  "rank": {
    "id": -7,
    "name": "7 kyu",
    "color": "white"
  },
  "createdAt": "2023-10-30T09:06:15.344Z",
  "createdBy": {
    "username": "bornForThis",
    "url": "https://www.codewars.com/users/bornForThis"
  },
  "approvedBy": {
    "username": "dfhwze",
    "url": "https://www.codewars.com/users/dfhwze"
  },
  "description": "You work with a database to track intricate drug dosages administered during clinical trials, often referencing varied units, including secondary measures like body weight.\n\nTable Schemas:\n\n`drugs`:\n\n* `drug_id` (integer) - Primary Key\n* `drug_name` (varchar) - The name of the drug.\n\n`units`:\n\n* `unit_id` (integer) - Primary Key\n* `unit_name` (varchar) - The name of the unit (e.g., mg, kg, mL).\n\n`dose_records`:\n\n* `record_id` (integer) - Primary Key\n* `drug_id` (integer) - Foreign Key: Refers to the drug_id in the drugs table.\n* `drug_amount` (float) - The amount of the drug administered.\n* `drug_unit_id` (integer) - Foreign Key: Refers to the `unit_id` in the units table representing the unit of the drug amount.\n* `check_unit_id` (integer, nullable) - Foreign Key: Refers to the `unit_id` in the units table representing the secondary unit, if any.\n\nYour task as to write SQL query that pulls relevant dosage information. The management wants to view the `record_id`, name of the drug, the `drug_amount`, and its associated `dose_units` for each record.\n\nHere's the twist: the dose_units are sometimes a combination of two units. If a secondary unit exists (`check_unit_id`), the team wants to see it in the format primary_unit/secondary_unit (e.g., mg/kg). If there's no secondary unit, only the primary unit (`drug_unit_id`) should be displayed.\n\nResultant Dataset Columns:\n\n1) `record_id`: A unique identifier for each dosage record.\n2) `drug_name`: The name of the specific drug administered.\n3) `drug_amount`: The quantity of the drug given during the dosage.\n4) `dose_units`: The units in which the drug was administered. If there's a secondary unit of measurement, it's combined with the primary unit (e.g., \"mg/kg\"). If no secondary unit exists, only the primary unit is displayed.\n\nThe dataset should be ordered first by `drug_name` in ascending order and then by `record_id` in ascending order for records with the same drug name.\n\nGLHF!",
  "totalAttempts": 1440,
  "totalCompleted": 363,
  "totalStars": 12,
  "voteScore": 56,
  "tags": [
    "SQL",
    "Databases"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}