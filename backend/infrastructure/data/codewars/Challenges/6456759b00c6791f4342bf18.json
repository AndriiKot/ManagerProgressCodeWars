{
  "id": "6456759b00c6791f4342bf18",
  "name": "Filtering Films by Special Features in PostgreSQL: Part 3",
  "slug": "filtering-films-by-special-features-in-postgresql-part-3",
  "category": "reference",
  "publishedAt": "2023-05-06T15:43:39.270Z",
  "approvedAt": "2023-05-07T20:28:18.512Z",
  "languages": [
    "sql"
  ],
  "url": "https://www.codewars.com/kata/6456759b00c6791f4342bf18",
  "rank": {
    "id": -7,
    "name": "7 kyu",
    "color": "white"
  },
  "createdAt": "2023-05-06T15:43:24.097Z",
  "createdBy": {
    "username": "bornForThis",
    "url": "https://www.codewars.com/users/bornForThis"
  },
  "approvedBy": {
    "username": "dfhwze",
    "url": "https://www.codewars.com/users/dfhwze"
  },
  "description": "Write a PostgreSQL query that selects `film_id`, the `title` and `special_features` columns from the film table in the DVD rental database, and returns films that have either \"Deleted Scenes\" or \"Behind the Scenes\" as a special feature, but not both - meaning that if there are \"Deleted Scenes\", there should not be \"Behind the Scenes\" and vice versa. The query should also exclude films that have \"Commentaries\" as a special feature.\n\n##### Notes:\n\n*  for the sample tests, static dump of [DVD Rental Sample Database](http://www.postgresqltutorial.com/postgresql-sample-database/) is used, for the final solution - random tests.\n* The result should be order by title alphabetically, if title is the same - then by film_id in asc order.\n* `special_features` is the `text[]` type. It represents a one-dimensional array of values, where each value is of the text data type.\n\n### Schema:\n\n#### `film` table:\n```\nColumn            | Type      | Modifiers\n------------------+-----------+-----------\nfilm_id           | integer   | not null\ntitle             | varchar   | not null\ndescription       | text      | not null\nrelease_year      | integer   | not null\nlanguage_id       | integer   | not null \nrental_duration   | integer   | not null\nrental_rate       | numeric   | not null\nlength            | integer   | not null\nreplacement_cost  | numeric   | not null\nrating            | varchar   | not null\nlast_update       | timestamp | not null\nspecial_features  | text[]    | not null\n```\n\n### Desired Output\n\nThe desired output should look like this:\n```\nfilm_id | title                             | special_features                       |\n--------+-----------------------------------+----------------------------------------|\n   32   | A Shawshank Redemption            | {Trailers, Deleted Scenes}             | \n   14   | Monty Python and the Holy Grail   | {Trailers, Deleted Scenes}             |\n...\n```",
  "totalAttempts": 1973,
  "totalCompleted": 495,
  "totalStars": 13,
  "voteScore": 79,
  "tags": [
    "SQL",
    "Databases"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}