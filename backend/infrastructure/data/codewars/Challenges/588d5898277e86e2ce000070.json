{
  "id": "588d5898277e86e2ce000070",
  "name": "JSON Account Updater",
  "slug": "json-account-updater",
  "category": "reference",
  "publishedAt": "2017-01-29T03:32:18.459Z",
  "approvedAt": "2017-09-09T13:10:58.218Z",
  "languages": [
    "javascript"
  ],
  "url": "https://www.codewars.com/kata/588d5898277e86e2ce000070",
  "rank": {
    "id": -5,
    "name": "5 kyu",
    "color": "yellow"
  },
  "createdAt": "2017-01-29T02:51:04.329Z",
  "createdBy": {
    "username": "FrankK",
    "url": "https://www.codewars.com/users/FrankK"
  },
  "approvedBy": {
    "username": "smile67",
    "url": "https://www.codewars.com/users/smile67"
  },
  "description": "A system is receiving each hour a batch with logon information.  \nCan you write a method that can update accounts with the latest logon data? \n\n### Task\n\nFinish this function:\n```javascript\nfunction updateAccounts(accounts, logons) {}\n```\n\nThe function accepts `\"Accounts\"` and returns the same list updated. The list of accounts is a JSON object:\n\n```javascript\nvar accounts = {\n  \"Accounts\": [\n    {\n      \"Id\": 21,\n      \"Name\": \"John Shepherd\",\n      \"LogonCount\" : 13,\n      \"LastLogon\" : new Date(2017, 1, 14, 16, 15, 6, 111)\n    },\n    {\n      // ...\n    }\n  ]\n}\n```\n\nThe function accepts a list of `\"Logons\"` that is a JSON object:\n\n```javascript\nvar logons = {\n  \"Logons\": [\n    {\n      \"Id\": 21,\n      \"Name\": \"John Shepherd\",\n      \"Date\" : new Date(2017, 1, 14, 16, 15, 6, 111)\n    },\n    {\n      // ...\n    }\n  ]\n}\n```\n\nThe updates must follow this pattern:\n\n* Accounts are matched with the logon information by the `\"Id\"` fields.\n* If an account matches a logon, The `\"LogonCount\"` is incremented with 1.\n* If `\"Id\"` is not found, a new account will be added with all available information where `\"LogonCount\"` is set to 1.\n* If `\"LastLogon\"` is older than the logon `\"Date\"` it will be set to the logon `\"Date\"`.\n* If `\"LastLogon\"` is older than the logon `\"Date\"` the `\"Name\"` will be set to the logon `\"Name\"` when not empty.\n* The input `logons` is not necessarily ordered by `Date` ascending, but you will have to process them as such. For example the 3 logons `[ {Id: 1, Name: 'A', Date: 2023}, {Id: 1, Name: '', Date: 2025}, {Id: 1, Name: 'B', Date: 2024} ]` should result in `{Id: 1, Name: 'B', Date: 2025}`, because the name change to `'B'` occurs *before* the latest anonymous login but *after* the very first logon.\n* Accounts are returned ordered by `\"Id\"` ascending, but they are not necessarily ordered when they are passed as a parameter.",
  "totalAttempts": 1214,
  "totalCompleted": 168,
  "totalStars": 37,
  "voteScore": 63,
  "tags": [
    "JSON",
    "Fundamentals"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 1,
    "suggestions": 0
  }
}