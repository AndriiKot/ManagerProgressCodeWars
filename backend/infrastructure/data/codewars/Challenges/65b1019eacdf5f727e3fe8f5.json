{
  "id": "65b1019eacdf5f727e3fe8f5",
  "name": "Extract Direct Subdirectories - parameterized version",
  "slug": "extract-direct-subdirectories-parameterized-version",
  "category": "reference",
  "publishedAt": "2024-01-24T12:26:47.656Z",
  "approvedAt": "2024-02-01T13:10:32.515Z",
  "languages": [
    "sql"
  ],
  "url": "https://www.codewars.com/kata/65b1019eacdf5f727e3fe8f5",
  "rank": {
    "id": -6,
    "name": "6 kyu",
    "color": "yellow"
  },
  "createdAt": "2024-01-24T12:25:02.520Z",
  "createdBy": {
    "username": "bornForThis",
    "url": "https://www.codewars.com/users/bornForThis"
  },
  "approvedBy": {
    "username": "dfhwze",
    "url": "https://www.codewars.com/users/dfhwze"
  },
  "description": "Write a parametrized SQL query to extract the names of all direct subdirectories of a specified base directory from a table of directory paths.\n\nWe have directories table\n\n* `id` (integer): primary key\n* `path` (varchar): column containing directory paths.\n\nQuery Requirements:\n\n1) Parametrized Input: The query should accept a single string parameter representing the base directory path (`prepare get_direct_subdirectories(text) as`). Use `$1` as a placeholder for this parameter. \n2) Direct Subdirectories: Extract only the direct subdirectories of the specified base path.\n3) Result Format: The result should contain only the direct subdirectory names, excluding the full path.\n4) No Duplicates: The result should not contain duplicate entries.\n5) Ordering: The results should be sorted in alphabetical order.\n5) Result set: The results should contain single `subdirectory` column\n\n\nFor this sample data:\n\n```\n| id |                   path                      |\n+----+---------------------------------------------+\n| 1  | /home/user/pictures/books/2022              |\n| 2  | /home/user/pictures/vacation                |\n| 3  | /home/user/pictures/work/2023/important     |\n| 4  | /home/user/pictures/vacation/2023           |\n| 5  | /home/user/music/rock/oldies                |\n| 6  | /home/user/documents/taxes/2021             |\n```\n\nExecution of the parametrized query with base with the following path (`EXECUTE get_direct_subdirectories('/home/user/pictures/'`) will provide such a result:\n\n```\n| subdirectory |\n+--------------+\n| books        |\n| vacation     |\n| work         |\n```\n\nGLHF!",
  "totalAttempts": 346,
  "totalCompleted": 62,
  "totalStars": 5,
  "voteScore": 32,
  "tags": [
    "SQL",
    "Databases"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 1,
    "suggestions": 0
  }
}