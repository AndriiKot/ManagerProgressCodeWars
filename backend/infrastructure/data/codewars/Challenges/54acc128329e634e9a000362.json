{
  "id": "54acc128329e634e9a000362",
  "name": "A Simplistic TCP Finite State Machine (FSM)",
  "slug": "a-simplistic-tcp-finite-state-machine-fsm",
  "category": "algorithms",
  "publishedAt": "2015-01-08T04:17:35.651Z",
  "approvedAt": "2015-04-26T17:31:06.467Z",
  "languages": [
    "javascript",
    "ruby",
    "python",
    "java",
    "csharp",
    "cpp",
    "vb",
    "prolog",
    "cobol",
    "go",
    "c",
    "lua",
    "coffeescript",
    "rust",
    "haskell"
  ],
  "url": "https://www.codewars.com/kata/54acc128329e634e9a000362",
  "rank": {
    "id": -4,
    "name": "4 kyu",
    "color": "blue"
  },
  "createdAt": "2015-01-07T05:16:24.943Z",
  "createdBy": {
    "username": "oldccoder",
    "url": "https://www.codewars.com/users/oldccoder"
  },
  "approvedBy": {
    "username": "jhoffner",
    "url": "https://www.codewars.com/users/jhoffner"
  },
  "description": "Automatons, or Finite State Machines (FSM), are extremely useful to programmers when it comes to software design. You will be given a simplistic version of an FSM to code for a basic TCP session.\n\nThe outcome of this exercise will be to return the correct state of the TCP FSM based on the array of events given.\n\n---------------------------------\n\n~~~if-not:rust,haskell\nThe input array of events will consist of one or more of the following strings:\n~~~\n~~~if:rust\nThe input array of events will consist of one or more of the following members of the provided `TcpEvent` enum:\n~~~\n~~~if:haskell\nThe input array of events will consist of one or more of the following `TCPEvent` items:\n~~~\n\n```\nAPP_PASSIVE_OPEN, APP_ACTIVE_OPEN, APP_SEND, APP_CLOSE, APP_TIMEOUT, RCV_SYN, RCV_ACK, RCV_SYN_ACK, RCV_FIN, RCV_FIN_ACK\n```\n\n---------------------------------\n\n~~~if-not:rust,haskell\nThe states are as follows and should be returned in all capital letters as shown:\n~~~\n~~~if:rust\nThe states are as follows, all are members of the provided `TcpState` enum:\n~~~\n~~~if:haskell\nThe states are as follows, all are members of the provided `TCPState` data type:\n~~~\n\n```\nCLOSED, LISTEN, SYN_SENT, SYN_RCVD, ESTABLISHED, CLOSE_WAIT, LAST_ACK, FIN_WAIT_1, FIN_WAIT_2, CLOSING, TIME_WAIT\n```\n\n---------------------------------\n\nThe input will be an array of events. The initial state is `CLOSED`. Your job is to traverse the FSM as determined by the events, and return the proper final state as shown above.\n\n~~~if-not:rust,haskell\nIf an event is not applicable to the current state, your code will return `\"ERROR\"`.\n~~~\n~~~if:rust\nIf an event is not applicable to the current state, your code will return `TcpState::ERROR`.\n~~~\n~~~if:haskell\nIf an event is not applicable to the current state, your code will return `Nothing`.\n~~~\n\n### Action of each event upon each state:\n(the format is `INITIAL_STATE: EVENT -> NEW_STATE`)\n\n```\nCLOSED: APP_PASSIVE_OPEN -> LISTEN\nCLOSED: APP_ACTIVE_OPEN  -> SYN_SENT\nLISTEN: RCV_SYN          -> SYN_RCVD\nLISTEN: APP_SEND         -> SYN_SENT\nLISTEN: APP_CLOSE        -> CLOSED\nSYN_RCVD: APP_CLOSE      -> FIN_WAIT_1\nSYN_RCVD: RCV_ACK        -> ESTABLISHED\nSYN_SENT: RCV_SYN        -> SYN_RCVD\nSYN_SENT: RCV_SYN_ACK    -> ESTABLISHED\nSYN_SENT: APP_CLOSE      -> CLOSED\nESTABLISHED: APP_CLOSE   -> FIN_WAIT_1\nESTABLISHED: RCV_FIN     -> CLOSE_WAIT\nFIN_WAIT_1: RCV_FIN      -> CLOSING\nFIN_WAIT_1: RCV_FIN_ACK  -> TIME_WAIT\nFIN_WAIT_1: RCV_ACK      -> FIN_WAIT_2\nCLOSING: RCV_ACK         -> TIME_WAIT\nFIN_WAIT_2: RCV_FIN      -> TIME_WAIT\nTIME_WAIT: APP_TIMEOUT   -> CLOSED\nCLOSE_WAIT: APP_CLOSE    -> LAST_ACK\nLAST_ACK: RCV_ACK        -> CLOSED\n```\n\n<figure>\n<svg style=\"background-color: grey\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1084 817\"><path fill=\"#cdffff\" stroke=\"#000\" stroke-dasharray=\"6 6\" stroke-linecap=\"round\" d=\"M692 451h298v281H692zm-604 1h566v281H88z\"/><path fill=\"#feff00\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M463 123h136v30H463z\"/><path fill=\"#00f900\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M449 306h164v30H449z\"/><path fill=\"#fe6500\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M463 49h136v30H463z\"/><text xml:space=\"preserve\" x=\"329\" y=\"194\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"329\" y=\"194\">CLOSED</tspan></text><text xml:space=\"preserve\" x=\"247\" y=\"192\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"247\" y=\"192\">(Start)</tspan></text><text xml:space=\"preserve\" x=\"261\" y=\"222\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"261\" y=\"222\">LISTEN/-</tspan></text><text xml:space=\"preserve\" x=\"409\" y=\"236\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"409\" y=\"236\">CLOSE/-</tspan></text><text xml:space=\"preserve\" x=\"334\" y=\"268\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"334\" y=\"268\">LISTEN</tspan></text><g fill=\"#0001f6\" fill-rule=\"evenodd\" stroke=\"#0001f6\"><path d=\"M498 83v36h1V83z\"/><path stroke-width=\"1.1\" d=\"m498 109-4-4 4 14 4-14z\"/></g><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M565 87h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m565 94 4 4-4-14-4 14z\"/></g><g fill=\"#0001f6\" fill-rule=\"evenodd\" stroke=\"#0001f6\"><path d=\"M198 138v57h1v-56h261v-1z\"/><path stroke-width=\"1.1\" d=\"m199 185-4-4 4 14 4-14z\"/></g><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M497 157h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm-222 2h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m497 167 4 4-4-14-4 14z\"/></g><path fill=\"silver\" stroke=\"#000\" d=\"M131 199h136v60H131z\"/><text xml:space=\"preserve\" x=\"32\" y=\"347\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" style=\"text-align:center\" text-anchor=\"middle\" transform=\"translate(167 -124)\"><tspan x=\"32\" y=\"347\">SYN</tspan><tspan x=\"32\" y=\"368\">RECEIVED</tspan></text><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M564 157h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm2 2h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m757 214-4 4 14-4-14-4z\"/></g><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M275 244h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m282 244 4-4-14 4 14 4z\"/></g><path fill=\"silver\" stroke=\"#000\" d=\"M771 199h136v60H771z\"/><text xml:space=\"preserve\" x=\"672\" y=\"347\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" style=\"text-align:center\" text-anchor=\"middle\" transform=\"translate(167 -124)\"><tspan x=\"672\" y=\"347\">SYN</tspan><tspan x=\"672\" y=\"368\">SENT</tspan></text><g fill=\"brown\" fill-rule=\"evenodd\" stroke=\"brown\"><path d=\"M603 56v1h269v138h1V56z\"/><path stroke-width=\"1.1\" d=\"m873 185-4-4 4 14 4-14z\"/></g><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M605 71h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm1 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m615 71 4-4-14 4 14 4z\"/></g><text xml:space=\"preserve\" x=\"468\" y=\"173\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"468\" y=\"173\">CONNECT/</tspan></text><text xml:space=\"preserve\" x=\"585\" y=\"172\" font-family=\"Courier New\" font-size=\"13.1\" font-style=\"italic\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"585\" y=\"172\">(Step 1 of the 3-way-handshake)</tspan></text><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M153 262h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m154 486-4-4 4 14 4-14z\"/></g><text xml:space=\"preserve\" x=\"546\" y=\"173\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"546\" y=\"173\">SYN</tspan></text><text xml:space=\"preserve\" x=\"116\" y=\"257\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"116\" y=\"257\">SYN/SYN+ACK</tspan></text><text xml:space=\"preserve\" x=\"-137\" y=\"256\" font-family=\"Courier New\" font-size=\"13.1\" font-style=\"italic\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"-137\" y=\"256\">(Step 2 of the 3-way-handshake)</tspan></text><text xml:space=\"preserve\" x=\"13\" y=\"183\" font-family=\"Arial\" font-size=\"12.9\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"13\" y=\"183\">unusual event</tspan></text><text xml:space=\"preserve\" x=\"13\" y=\"197\" font-family=\"Arial\" font-size=\"12.9\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"13\" y=\"197\">client/receiver path</tspan></text><text xml:space=\"preserve\" x=\"13\" y=\"213\" font-family=\"Arial\" font-size=\"12.9\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"13\" y=\"213\">server/sender path</tspan></text><text xml:space=\"preserve\" x=\"206\" y=\"332\" font-family=\"Arial\" font-size=\"13.1\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"206\" y=\"332\">RST/-</tspan></text><text xml:space=\"preserve\" x=\"234\" y=\"363\" font-family=\"Arial\" font-size=\"13.9\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"234\" y=\"363\">SYN/SYN+ACK</tspan></text><text xml:space=\"preserve\" x=\"342\" y=\"362\" font-family=\"Courier New\" font-size=\"13.1\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"342\" y=\"362\">(simultaneous open)</tspan></text><text xml:space=\"preserve\" x=\"526\" y=\"438\" font-family=\"Arial\" font-size=\"13.2\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"526\" y=\"438\">SYN+ACK/ACK</tspan></text><text xml:space=\"preserve\" x=\"471\" y=\"458\" font-family=\"Courier New\" font-size=\"13.1\" font-style=\"italic\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"471\" y=\"458\">(Step 3 of the 3-way-handshake)</tspan></text><text xml:space=\"preserve\" x=\"263\" y=\"422\" font-family=\"Courier New\" font-size=\"17\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"263\" y=\"422\">Data exchange occurs</tspan></text><text xml:space=\"preserve\" x=\"305\" y=\"449\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"305\" y=\"449\">ESTABLISHED</tspan></text><text xml:space=\"preserve\" x=\"518\" y=\"528\" font-family=\"Arial\" font-size=\"14.1\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"518\" y=\"528\">FIN/ACK</tspan></text><text xml:space=\"preserve\" x=\"153\" y=\"437\" font-family=\"Arial\" font-size=\"12.9\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"153\" y=\"437\">ACK/-</tspan></text><g fill=\"brown\" fill-rule=\"evenodd\" stroke=\"brown\"><path d=\"M88 70v1h82v-1z\"/><path stroke-width=\"1.1\" d=\"m160 70-4 4 14-4-14-4z\"/></g><g fill=\"#0001f6\" fill-rule=\"evenodd\" stroke=\"#0001f6\"><path d=\"M88 86v1h82v-1z\"/><path stroke-width=\"1.1\" d=\"m160 86-4 4 14-4-14-4z\"/></g><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M88 57h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m160 56-4 4 14-4-14-4z\"/></g><text xml:space=\"preserve\" x=\"517\" y=\"211\" font-family=\"Arial\" font-size=\"13.1\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"517\" y=\"211\">CLOSE/-</tspan></text><text xml:space=\"preserve\" x=\"456\" y=\"332\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"456\" y=\"332\">SEND/</tspan></text><text xml:space=\"preserve\" x=\"503\" y=\"332\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"503\" y=\"332\">SYN</tspan></text><text xml:space=\"preserve\" x=\"-5\" y=\"501\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"-5\" y=\"501\">CLOSE/</tspan></text><text xml:space=\"preserve\" x=\"52\" y=\"501\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"52\" y=\"501\">FIN</tspan></text><text xml:space=\"preserve\" x=\"159\" y=\"530\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"159\" y=\"530\">CLOSE/</tspan></text><text xml:space=\"preserve\" x=\"216\" y=\"530\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"216\" y=\"530\">FIN</tspan></text><path fill=\"#feff00\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M463 501h136v30H463z\"/><text xml:space=\"preserve\" x=\"326\" y=\"646\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"326\" y=\"646\">CLOSING</tspan></text><path fill=\"#feff00\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M463 651h136v30H463z\"/><text xml:space=\"preserve\" x=\"321\" y=\"796\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"321\" y=\"796\">TIME WAIT</tspan></text><path fill=\"#fe6500\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M463 757h136v30H463z\"/><text xml:space=\"preserve\" x=\"329\" y=\"902\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"329\" y=\"902\">CLOSED</tspan></text><path fill=\"#feff00\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M131 501h136v30H131z\"/><text xml:space=\"preserve\" x=\"-11\" y=\"646\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"-11\" y=\"646\">FIN WAIT 1</tspan></text><path fill=\"#feff00\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M131 651h136v30H131z\"/><text xml:space=\"preserve\" x=\"-12\" y=\"796\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"-12\" y=\"796\">FIN WAIT 2</tspan></text><path fill=\"#feff00\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M773 501h136v30H773z\"/><text xml:space=\"preserve\" x=\"622\" y=\"646\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"622\" y=\"646\">CLOSE WAIT</tspan></text><path fill=\"#feff00\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M773 651h136v30H773z\"/><text xml:space=\"preserve\" x=\"631\" y=\"796\" font-family=\"Arial\" font-size=\"16.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"631\" y=\"796\">LAST ACK</tspan></text><path fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" d=\"M692 451h139v29H692zm-177 1h139v29H515z\"/><text xml:space=\"preserve\" x=\"679\" y=\"712\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"700\" transform=\"translate(167 -124)\"><tspan x=\"679\" y=\"712\">CLOSE/</tspan></text><text xml:space=\"preserve\" x=\"736\" y=\"712\" font-family=\"Arial\" font-size=\"14.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"736\" y=\"712\">FIN</tspan></text><g fill=\"#0001f6\" fill-rule=\"evenodd\" stroke=\"#0001f6\"><path d=\"M587 339v71h253v88h1v-89H588v-70z\"/><path stroke-width=\"1.1\" d=\"m841 488-4-4 4 14 4-14z\"/></g><g fill=\"#0001f6\" fill-rule=\"evenodd\" stroke=\"#0001f6\"><path d=\"M839 535v113h1V535z\"/><path stroke-width=\"1.1\" d=\"m840 638-4-4 4 14 4-14z\"/></g><g fill=\"#0001f6\" fill-rule=\"evenodd\" stroke=\"#0001f6\"><path d=\"M839 685v89H605v1h235v-90z\"/><path stroke-width=\"1.1\" d=\"m614 774 4-4-14 4 14 4z\"/></g><g fill=\"brown\" fill-rule=\"evenodd\" stroke=\"brown\"><path d=\"M476 341v68H244v89h1v-88h232v-69z\"/><path stroke-width=\"1.1\" d=\"m244 488-4-4 4 14 4-14z\"/></g><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M271 509h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0v-1z\"/><path stroke-width=\"1.1\" d=\"m449 509-4 4 14-4-14-4z\"/></g><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M271 525h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm1 3h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 3v1h1v-1zm4 1h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1zm4 0h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m449 659-4 4 14-4-14-4z\"/></g><text xml:space=\"preserve\" x=\"166\" y=\"625\" font-family=\"Arial\" font-size=\"12.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"166\" y=\"625\">FIN/ACK</tspan></text><text xml:space=\"preserve\" x=\"109\" y=\"668\" font-family=\"Arial\" font-size=\"12.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"109\" y=\"668\">FIN+ACK/ACK</tspan></text><text xml:space=\"preserve\" x=\"-10\" y=\"711\" font-family=\"Arial\" font-size=\"12.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"-10\" y=\"711\">ACK/-</tspan></text><g fill-rule=\"evenodd\" stroke=\"#000\"><path stroke-dasharray=\"1 3\" d=\"M531 536h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1zm0 4h1v-1h-1z\"/><path stroke-width=\"1.1\" d=\"m532 638-4-4 4 14 4-14z\"/></g><g fill=\"brown\" fill-rule=\"evenodd\" stroke=\"brown\"><path d=\"M198 536v112h1V536z\"/><path stroke-width=\"1.1\" d=\"m199 638-4-4 4 14 4-14z\"/></g><g fill=\"brown\" fill-rule=\"evenodd\" stroke=\"brown\"><path d=\"M271 673v1h187v-1z\"/><path stroke-width=\"1.1\" d=\"m448 674-4 4 14-4-14-4z\"/></g><text xml:space=\"preserve\" x=\"166\" y=\"814\" font-family=\"Arial\" font-size=\"12.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"166\" y=\"814\">FIN/ACK</tspan></text><g fill=\"brown\" fill-rule=\"evenodd\" stroke=\"brown\"><path d=\"M531 685v70h1v-70z\"/><path stroke-width=\"1.1\" d=\"m531 745-4-4 4 14 4-14z\"/></g><text xml:space=\"preserve\" x=\"369\" y=\"841\" font-family=\"Arial\" font-size=\"14.1\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"369\" y=\"841\">Timeout</tspan></text><text xml:space=\"preserve\" x=\"110\" y=\"901\" font-family=\"Courier New\" font-size=\"17\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"110\" y=\"901\">(Go back to start)</tspan></text><g fill=\"brown\" fill-rule=\"evenodd\" stroke=\"brown\"><path d=\"M839 263v56H619v1h221v-57z\"/><path stroke-width=\"1.1\" d=\"m629 320 4-4-14 4 14 4z\"/></g><g fill=\"#0001f6\" fill-rule=\"evenodd\" stroke=\"#0001f6\"><path d=\"M243 263v58h201v-1H244v-57z\"/><path stroke-width=\"1.1\" d=\"m434 320-4 4 14-4-14-4z\"/></g><text xml:space=\"preserve\" x=\"362\" y=\"594\" font-family=\"Courier New\" font-size=\"17\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"362\" y=\"594\">Active CLOSE</tspan></text><text xml:space=\"preserve\" x=\"529\" y=\"593\" font-family=\"Courier New\" font-size=\"17\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"529\" y=\"593\">Passive CLOSE</tspan></text><text xml:space=\"preserve\" x=\"371\" y=\"718\" font-family=\"Arial\" font-size=\"12.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"371\" y=\"718\">ACK/-</tspan></text><text xml:space=\"preserve\" x=\"682\" y=\"835\" font-family=\"Arial\" font-size=\"12.8\" font-weight=\"400\" transform=\"translate(167 -124)\"><tspan x=\"682\" y=\"835\">ACK/-</tspan></text></g></svg>\n  <figcaption>TCP state diagram, originally from <a href=\"https://commons.wikimedia.org/wiki/File:Tcp_state_diagram_fixed_new.svg\">wikimedia commons</a>.</figcaption>\n</figure>\n\n## Examples\n\n```if-not:rust\n    [\"APP_PASSIVE_OPEN\", \"APP_SEND\", \"RCV_SYN_ACK\"] =>  \"ESTABLISHED\"\n\n    [\"APP_ACTIVE_OPEN\"] =>  \"SYN_SENT\"\n\n    [\"APP_ACTIVE_OPEN\", \"RCV_SYN_ACK\", \"APP_CLOSE\", \"RCV_FIN_ACK\", \"RCV_ACK\"] =>  \"ERROR\"\n```\n```if:rust\n    [\n        TcpEvent::APP_PASSIVE_OPEN, TcpEvent::APP_SEND, TcpEvent::RCV_SYN_ACK\n    ] => TcpState::ESTABLISHED\n\n    [TcpEvent::APP_ACTIVE_OPEN] => TcpState::SYN_SENT\n\n    [\n        TcpEvent::APP_ACTIVE_OPEN, TcpEvent::RCV_SYN_ACK, TcpEvent::APP_CLOSE,\n        TcpEvent::RCV_FIN_ACK, TcpEvent::RCV_ACK\n    ] => TcpState::ERROR\n```\n```if:haskell\n    >>> traverseStates [APP_PASSIVE_OPEN, APP_SEND, RCV_SYN_ACK]\n    Just ESTABLISHED\n    >>> traverseStates [APP_ACTIVE_OPEN]\n    Just SYN_SENT\n    >>> traverseStates [APP_ACTIVE_OPEN, RCV_SYN_ACK, APP_CLOSE, RCV_FIN_ACK, RCV_ACK]\n    Nothing\n```\n\n \n\nThis kata is similar to [Design a Simple Automaton (Finite State Machine)](https://www.codewars.com/kata/design-a-simple-automaton-finite-state-machine), and you may wish to try that kata before tackling this one.\n\nSee wikipedia page [Transmission Control Protocol]( http://en.wikipedia.org/wiki/Transmission_Control_Protocol)\nfor further details.\n\nSee http://www.medianet.kent.edu/techreports/TR2005-07-22-tcp-EFSM.pdf page 4, for the FSM diagram used for this kata.",
  "totalAttempts": 22359,
  "totalCompleted": 7840,
  "totalStars": 707,
  "voteScore": 702,
  "tags": [
    "State Machines",
    "Algorithms"
  ],
  "contributorsWanted": false,
  "unresolved": {
    "issues": 2,
    "suggestions": 5
  }
}