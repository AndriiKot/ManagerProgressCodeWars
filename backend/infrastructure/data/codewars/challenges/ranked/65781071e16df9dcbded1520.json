{
  "id": "65781071e16df9dcbded1520",
  "name": "Teknonymy",
  "slug": "teknonymy",
  "category": "algorithms",
  "publishedAt": "2023-12-12T18:32:06.361Z",
  "approvedAt": "2023-12-18T22:34:17.980Z",
  "languages": [
    "python",
    "javascript",
    "commonlisp",
    "rust",
    "java",
    "elixir",
    "scala"
  ],
  "url": "https://www.codewars.com/kata/65781071e16df9dcbded1520",
  "rank": {
    "id": -5,
    "name": "5 kyu",
    "color": "yellow"
  },
  "createdAt": "2023-12-12T07:49:05.511Z",
  "createdBy": {
    "username": "jpssj",
    "url": "https://www.codewars.com/users/jpssj"
  },
  "approvedBy": {
    "username": "dfhwze",
    "url": "https://www.codewars.com/users/dfhwze"
  },
  "description": "In some societies, you receive a name around your birth and people use it to refer to you while you don't have any children.\n\nOnce you have at least one child, people give you a [teknonym](https://en.wikipedia.org/wiki/Teknonymy). A teknonym is a way to refer to someone according to some of its descendants, like the '__mother of Joe__', the '__great-grandfather of Jane__', etc.\n\nIn this kata, you will receive some kind of family tree and your task will be to give the correct teknonym to the members of the tree, according to the rules specified in the next section.\n\n---\n\n## Rules\n\n- If X doesn't have any direct descendant : they don't have a teknonym.\n  - A direct descendant of X is any member, but X, of the subtree rooted at X.\n- If X has some direct descendants : the teknonym is built according to the sex of X and the name of the elder among its direct descendants of the most distant generation from X.\n  - The 'generation distance' between X and one of its descendant, say Y, is the number of levels between X and Y.\n  - So you have to :\n    1) Find the most distant generation\n    2) Find the elder of that generation\n    3) Build the teknonym of X according to the two previous informations.\n  - __There won't be any ambiguity to determine who is the elder between two direct descendants of someone.__\n- The possible teknonyms are (all __lower case__):\n  - 'father of Y', 'grandfather of Y', 'great-grandfather of Y', 'great-great-grandfather of Y', and so on ;\n  - 'mother of Y', 'grandmother of Y', 'great-grandmother of Y', 'great-great-grandmother of Y', and so on ;\n\n## Example\n\n<?xml version=\"1.0\" encoding=\"us-ascii\" standalone=\"no\"?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" height=\"362px\" preserveAspectRatio=\"none\" style=\"width:663px;height:362px;\" version=\"1.1\" viewBox=\"0 0 663 362\" width=\"663px\" zoomAndPan=\"magnify\"><defs/><g><g id=\"elem_a\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"194\" x=\"170.5\" y=\"7\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8\" x=\"263.5\" y=\"22.1318\">a</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"171.5\" x2=\"363.5\" y1=\"27.0986\" y2=\"27.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"176.5\" y=\"44.2305\">dob : 1000/01/01</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52\" x=\"176.5\" y=\"60.3291\">sex : 'm'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"182\" x=\"176.5\" y=\"76.4277\">teknonym : 'grandfather of e'</text></g><g id=\"elem_b\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"165\" x=\"7\" y=\"143\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8\" x=\"85.5\" y=\"158.1318\">b</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"8\" x2=\"171\" y1=\"163.0986\" y2=\"163.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"13\" y=\"180.2305\">dob : 1020/01/01</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44\" x=\"13\" y=\"196.3291\">sex : 'f'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"153\" x=\"13\" y=\"212.4277\">teknonym : 'mother of h'</text></g><g id=\"elem_c\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"120\" x=\"207.5\" y=\"143\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"7\" x=\"264\" y=\"158.1318\">c</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"208.5\" x2=\"326.5\" y1=\"163.0986\" y2=\"163.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"213.5\" y=\"180.2305\">dob : 1021/02/01</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52\" x=\"213.5\" y=\"196.3291\">sex : 'm'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80\" x=\"213.5\" y=\"212.4277\">teknonym : ''</text></g><g id=\"elem_d\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"157\" x=\"363\" y=\"143\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8\" x=\"437.5\" y=\"158.1318\">d</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"364\" x2=\"519\" y1=\"163.0986\" y2=\"163.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"369\" y=\"180.2305\">dob : 1023/11/28</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52\" x=\"369\" y=\"196.3291\">sex : 'm'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"145\" x=\"369\" y=\"212.4277\">teknonym : 'father of e'</text></g><g id=\"elem_g\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"120\" x=\"226.5\" y=\"279\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8\" x=\"282.5\" y=\"294.1318\">g</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"227.5\" x2=\"345.5\" y1=\"299.0986\" y2=\"299.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"232.5\" y=\"316.2305\">dob : 1046/01/01</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52\" x=\"232.5\" y=\"332.3291\">sex : 'm'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80\" x=\"232.5\" y=\"348.4277\">teknonym : ''</text></g><g id=\"elem_f\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"120\" x=\"381.5\" y=\"279\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4\" x=\"439.5\" y=\"294.1318\">f</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"382.5\" x2=\"500.5\" y1=\"299.0986\" y2=\"299.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"387.5\" y=\"316.2305\">dob : 1045/01/01</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44\" x=\"387.5\" y=\"332.3291\">sex : 'f'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80\" x=\"387.5\" y=\"348.4277\">teknonym : ''</text></g><g id=\"elem_e\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"120\" x=\"536.5\" y=\"279\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8\" x=\"592.5\" y=\"294.1318\">e</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"537.5\" x2=\"655.5\" y1=\"299.0986\" y2=\"299.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"542.5\" y=\"316.2305\">dob : 1043/11/01</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44\" x=\"542.5\" y=\"332.3291\">sex : 'f'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80\" x=\"542.5\" y=\"348.4277\">teknonym : ''</text></g><g id=\"elem_h\"><rect fill=\"#F1F1F1\" height=\"76.3945\" style=\"stroke:#181818;stroke-width:0.5;\" width=\"120\" x=\"29.5\" y=\"279\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8\" x=\"85.5\" y=\"294.1318\">h</text><line style=\"stroke:#181818;stroke-width:0.5;\" x1=\"30.5\" x2=\"148.5\" y1=\"299.0986\" y2=\"299.0986\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108\" x=\"35.5\" y=\"316.2305\">dob : 1047/01/01</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44\" x=\"35.5\" y=\"332.3291\">sex : 'f'</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80\" x=\"35.5\" y=\"348.4277\">teknonym : ''</text></g><!--link a to b--><g id=\"link_a_b\"><path codeLine=\"54\" d=\"M217.92,83.33 C193.23,101.91 163.47,124.32 138.82,142.87 \" fill=\"none\" id=\"a-b\" style=\"stroke:#FF0000;stroke-width:1.0;\"/></g><!--link a to c--><g id=\"link_a_c\"><path codeLine=\"55\" d=\"M267.5,83.33 C267.5,101.91 267.5,124.32 267.5,142.87 \" fill=\"none\" id=\"a-c\" style=\"stroke:#FF0000;stroke-width:1.0;\"/></g><!--link a to d--><g id=\"link_a_d\"><path codeLine=\"56\" d=\"M315.97,83.33 C340.1,101.91 369.19,124.32 393.29,142.87 \" fill=\"none\" id=\"a-d\" style=\"stroke:#FF0000;stroke-width:1.0;\"/></g><!--link b to h--><g id=\"link_b_h\"><path codeLine=\"57\" d=\"M89.5,219.33 C89.5,237.91 89.5,260.32 89.5,278.87 \" fill=\"none\" id=\"b-h\" style=\"stroke:#FF0000;stroke-width:1.0;\"/></g><!--link d to e--><g id=\"link_d_e\"><path codeLine=\"58\" d=\"M484.68,219.33 C506.17,237.91 532.09,260.32 553.56,278.87 \" fill=\"none\" id=\"d-e\" style=\"stroke:#FF0000;stroke-width:1.0;\"/></g><!--link d to f--><g id=\"link_d_f\"><path codeLine=\"59\" d=\"M441.5,219.33 C441.5,237.91 441.5,260.32 441.5,278.87 \" fill=\"none\" id=\"d-f\" style=\"stroke:#FF0000;stroke-width:1.0;\"/></g><!--link d to g--><g id=\"link_d_g\"><path codeLine=\"60\" d=\"M398.32,219.33 C376.83,237.91 350.91,260.32 329.44,278.87 \" fill=\"none\" id=\"d-g\" style=\"stroke:#FF0000;stroke-width:1.0;\"/></g><!--SRC=[bT1BQiCm40RW_PnYTbuPFz97o2xq1hs17YExTQmfaafQIkzUsSR6KGfnXE178_5f9D-zsG_XH8zIgAvn_6cruXCx34vO7xV81l3BgQDpV7uP3xoI1c3vJYgW-06CGxF40rPbMHPb5UTOzFGLYrcVZQj0dMNxtG-b9bwXZGWjEMI3bC7l8agy9Ej_I7DDzZnhxLfJgHQf-dQ3QqAdnAweggBUto3IvyrSat0FJvk-RDsHIOd7JL-q9YWbnaVTHRGfyRoz2n2OvoYdK5Dea4Eqe8UWASmK3S0V]--></g></svg>\n \n__dob__ : date of birth\n\nHere we have three generations:\n\n- first generation : a\n- second generation : b, c, d\n- third generation : h, e, f, g.\n\nThe direct descendants of:\n\n- a are b, c, d, e, f, g, h ;\n- b is h ;\n- d are e, f, g ;\n- c, e, f, g and h haven't any descendant.\n\nTeknonyms :\n\n- for a : the last generation, and the most distant one from __a__, is the third generation, the elder of that generation is __e__ and there is two generations between __a__ and __e__, so the teknonym of a is '__grandfather of e__';\n- for b : __b__ has only one direct descendant, __h__, in the third generation, and there is one generation between __b__ and __h__, so the teknonym of b is '__mother of h__' ;\n- for d : __d__ has three direct descendants in the third generation, namely e, f, g, and e is the elder, so the teknonym of d is '__father of e__' ;\n- c, h, e, f and g haven't any descendant, so they don't have a teknonym.\n\n## Input\n\nA structure representing a kind of family tree. Each node of the tree is a structure representing a person and containing:\n  - their name\n  - their date of birth\n  - their sex, either 'm' for male and 'f' for female\n  - their teknonym, a string\n  - a sequence of children. Each child is a person, the sequence can be empty and not necessarily sorted.\n\n~~~if:python\nIn Python, the structure is a dictionnary. Each node has the following keys:\n```python\ndate_of_birth : datetime.datetime\nname : str\nteknonym : str # that's the field you should mutate if it's relevant to do so\nsex : str\nchildren : list[dict] # list of children, possibly empty\n```\n~~~\n\n~~~if:javascript\nIn JS, the structure is an object. Each node has the following properties:\n```javascript\ndateOfBirth : Date\nname : string\nteknonym : string // that's the field you should mutate if it's relevant to do so\nsex : string\nchildren : Array // possibly empty\n```~\n~~~\n\n~~~if:commonlisp\nIn Common Lisp, the structure is a structure (define by `defstruct`). Each node is a person structure and has the following fields:\n- `birth-utime` : Universal Time, number of seconds that have elapsed since 00:00 of January 1, 1900 in the GMT time zone ;\n- `name` : string ;\n- `teknonym` : string, that's the field you should mutate if it's relevant to do so ;\n- `sex` : character, either `#\\m` or `#\\f` ;\n- `children` : a list of person structure, possibly empty.\n\nThe implicitely defined following functions to access the fields are preloaded : `person-name`, `person-sex`, `person-teknonym`, `person-birth-utime`, `person-children`.\n~~~~\n\n~~~if:java\nIn Java, the structure is a class Person. Each node is a Person with the following fields:\n```java\npublic class Person{\n    public Person parent;\n    public final String name;\n    public final Character sex;\n    public final Person[] children;\n    public final LocalDateTime dateOfBirth;\n    public String teknonym = \"\"; // that's the field you should mutate\n}\n```\n~~~\n\n~~~if:rust\nIn Rust, the following struct is preloaded for you:\n```rust\n#[derive(Clone, Debug, Eq, PartialEq, Default)]\npub struct Person {\n    pub name: String,\n    pub sex: char,\n    pub date_of_birth: chrono::NaiveDate,\n    // the field you should modify, if applicable\n    pub teknonym: String,\n    pub children: Vec<Person>,\n}\n```\n~~~\n\n~~~if:elixir\nIn Elixir, the structure is a map with the following fields:\n- `date_of_birth:` : a NaiveDateTime\n- `name:` : a string ;\n- `teknonym:` : a string\n- `sex:` : a character, either `'m'` for male or `'f'` for female ;\n- `children:` : a list of children, possibly empty.\n~~~~\n\n~~~if:scala\nIn Scala, the structure is the following case class:\n```scala\ncase class Person(\n  val name: String,\n  val dateOfBirth: java.time.LocalDateTime,\n  val sex: Char,\n  var teknonym: String = \"\",\n  val children: Seq[Person] = List()\n  )\n```\n~~~\n\n## Output\n\n~~~if:javascript,java,rust,commonlisp,python,scala\nNothing. You should mutate the input in this kata. __But you have to mutate only the teknonym field, and only if it's relevant.__\n~~~\n~~~if:elixir\nA new family tree with the teknonyms completed.\n~~~\n\n## Errors and messages\n\n\nIf any error occur, you will receive three JSON strings, the initial input, the actual and the expected values. There are a lot of tools to pretty display JSON strings, one of them is [jsonhero.io](https://jsonhero.io/) (available at the moment -- 12/12/23 -- and quite popular on Github).\n\n```if:rust\n### Rust:\nOn failure, sample tests display the Debug output of the entire tree (no JSON). Due to the size of the trees, the full test suite displays only the first mismatched person.\n```\n\n---\n\nThe idea came from this article by [Clifford Geertz](https://en.wikipedia.org/wiki/Clifford_Geertz) : [Teknonymy in Bali](http://hypergeertz.jku.at/GeertzTexts/Teknonymy_Bali.htm).\n\nHappy coding, great-great-grandwarrior of the Code !\n\n\n",
  "totalAttempts": 1392,
  "totalCompleted": 205,
  "totalStars": 63,
  "voteScore": 61,
  "tags": [
    "Trees",
    "Recursion"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}