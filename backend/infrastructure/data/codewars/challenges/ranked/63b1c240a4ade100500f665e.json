{
  "id": "63b1c240a4ade100500f665e",
  "name": "Sega Games: Streets of Rage",
  "slug": "sega-games-streets-of-rage",
  "category": "algorithms",
  "publishedAt": "2023-01-01T22:31:21.206Z",
  "approvedAt": "2024-02-07T04:51:53.582Z",
  "languages": [
    "javascript"
  ],
  "url": "https://www.codewars.com/kata/63b1c240a4ade100500f665e",
  "rank": {
    "id": -3,
    "name": "3 kyu",
    "color": "blue"
  },
  "createdAt": "2023-01-01T17:26:24.913Z",
  "createdBy": {
    "username": "dfhwze",
    "url": "https://www.codewars.com/users/dfhwze"
  },
  "approvedBy": {
    "username": "lachesism",
    "url": "https://www.codewars.com/users/lachesism"
  },
  "description": "<details open>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Preface</summary>\n\nStreets of Rage is a side-scrolling beat 'em up video game, centering on the efforts of several ex-police vigilantes trying to rid a fictional, large American city from a crime syndicate that has corrupted its local government.\n<small><a href=\"https://en.wikipedia.org/wiki/Streets_of_Rage\">source</a></small>\n<img src=\"https://cdn.cloudflare.steamstatic.com/steam/apps/71164/ss_269aec8251149b609ac95f1b6a71c43ba61c1c08.600x338.jpg?t=1549028540\" style=\"height:264px\">\n\nIn this kata, we're going to fight as one of our heroes against a bunch of tugs, in the <a href=\"https://onlinesequencer.net/545358\">streets of rage</a>.\n</details>\n\n<details open>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Task</summary>\n\n##### \"Given your initial health and a level containing a bunch of enemies, return the actions required to beat the level.\"\n\n### Input\n\n- health: a positive integer representing your health. Your health decreases with every punch you take. Once your health reaches zero you lose.\n- level: an array of 2-ples, each 2-ple representing a tile in the level containing. If the tile is <code>[0, 0]</code>, it's empty. In other cases the tile represents an enemy, and contains positive integers, respectively at index:\n  - <code>0</code>: the health of the enemy\n  - <code>1</code>: the attack power of the enemy\n  \n```\nexample: \n\nfight(10, [[2, 4], [4, 6], [0, 0], [8, 10]])\n\nyou start with a health of 10, and face 3 enemies in this level\n\n```\n\n### Output\n\n- return a string containing the actions required to beat the level. The level is guaranteed to have at least one solution. Any solution that beats the level, passes the kata. Possible actions are described below and explained further in the <b>Specification</b>:\n  - <code>'-'</code>: don't attack\n  - <code>'B'</code>: execute your regular attack\n  - <code>'C'</code>: execute your special attack\n  - <code>'A'</code>: execute your critical attack\n  \n```\nExample of a valid return value: 'BBB-ACB-A-'\n```\n</details>\n\n<details>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Input Constraints</summary>\n\nNaive solutions trying all possible permutations of actions will time out. You need to come up with a fast and effective solution. Also note that you will be on your last breath (<code>health = 1</code>) in some of the test cases, so make wise decisions. It's also likely you will have to take damage in most of the test cases.\n\n- 100 random tests with 5 <= level size <= 10 and 1 <= wave size <= 4\n- 100 random tests with 10 <= level size <= 20 and 2 <= wave size <= 5\n- 100 random tests with 20 <= level size <= 40 and 3 <= wave size <= 6\n- 100 random tests with 40 <= level size <= 60 and 4 <= wave size <= 8\n- 40 random tests with 200 <= level size <= 220 and 2 <= wave size <= 8\n- half of the random tests contain standard enemies: <code>\n      [2, 1], [2, 2], [2, 4], \n      [4, 1], [4, 2], [4, 4], [4, 8],\n      [8, 1], [8, 2], [8, 4], [8, 8]</code>\n- the other half contain enemies with <code>1 <= health <= 16 and 1 <= attack <= 16</code>\n- 1 <= health <= 1000\n\n</details>\n\n<details>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Level Design</summary>\n\nThis is a side-scrolling game, where the hero moves from left to right. Once the hero reaches the last tile, the level is beaten. While moving through the level, if an enemy is encountered, the hero engages in a fight. If the hero loses, the game is over. In other cases, the hero continues to move right until a next enemy crosses the path or the level has finished. \n\n### Waves\n\nEnemies come in waves. Within each wave, there will be at most two empty tiles between enemies. In between waves, there will be at least three empty tiles. Use this information to your advantage. In between waves the hero can regain full access to his attacking powers. See types of attacks further on the specification.\n\n### Side-scrolling\n\nAny time the hero is in front of an empty tile, the hero will walk onto it. The hero <b>automatically moves to the right</b>. However, you do need to specify an action to indicate progress in the level. \"Don't attack\" <code>'-'</code> is the action you should use.\n\n```\nexample:\n\nlevel: [[0, 0], [0, 0]]\nreturn '--'\n\nreturn '-'   -> you'll get an error \"There are still tiles left\"\nreturn '---' -> you'll get an error \"Too many moves, level has already finished\"\n\n```\n\nThough, technically, you could execute any attack while moving. There is no benefit in doing so, but it is valid.\n\n```\nexample:\n\nlevel: [[0, 0], [0, 0]]\nreturn 'BB'\n\nThere is nothing wrong executing your regular attack while moving when not facing \nan enemy. Other attacks are also allowed, but there are conditions and consequences\nwhen executing those. More about that later.\n```\n\n</details>\n\n<details>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Attacks</summary>\n\n### Engaging an enemy\n\nWhenever an enemy is in front of the hero, they will fight. The fight is turn-based.\nUntil either the health of the hero or the enemy reaches zero, a net turn will be needed. For each turn, in order of chronology:\n- player attacks enemy with attack of choice\n- enemy health decreases with attack power of that attack\n- if enemy <code>health <= 0</code>, player wins fight and continues to the next tile\n- enemy attacks the hero with attack power of enemy\n- hero health decreases with attack power of that attack\n- if hero <code>health <= 0</code>, player is defeated\n\n### Attack Choices\n\nThe hero has 4 choices when attacking an enemy.\n\n#### Regular attack\n\nAction <code>'B'</code> is used to indicate a regular attack. This attack has a power of <code>2</code>. It can be used in each turn.\n\n```\nexample: showing 3 turns of attack (level completed)\n\nhealth = 4\nlevel = [[2, 2], [4, 1]]\n\nturn 1:\naction = 'B'\nhealth update after turn: 4\nlevel update after turn: [[0, 2], [4, 1]]  \nenemy beaten, player will automatically move right\nthe next status of the level = [[4, 1]]\n\nturn 2:\naction = 'B'\nhealth update after turn: 3\nlevel update after turn: [[2, 1]]\n\nturn 3:\naction = 'B'\nhealth update after turn: 3\nlevel update after turn: [[0, 1]]\nenemy beaten, player will automatically move right\nthe next status of the level = []      -> level completed\n\n```\n\n#### Special attack\n\nAction <code>'C'</code> is used to indicate a special attack. This attack has a power of <code>4</code>. But because of the energy it asks from the hero, it has a cooldown period of <code>2</code> actions. This means at least two actions are required in between consecutive special attacks.\n\nThis means we better follow-up with other attack types after executing the special attack.\n\n```\nexample: showing 2 turns of attack (level completed)\n\nhealth = 4\nlevel = [[4, 8], [2, 1]]\n\nturn 1:\naction = 'C'\nhealth update after turn: 4\nlevel update after turn: [[0, 8], [2, 1]]  \nenemy beaten, player will automatically move right\nthe next status of the level = [[2, 1]]\n\nturn 2:\naction = 'B'\nhealth update after turn: 4\nlevel update after turn: [[0, 1]]\nenemy beaten, player will automatically move right\nthe next status of the level = []       -> level completed\n\n```\n\nIf enemies are far enough spaced out, we may use the special attack again.\n\n```\nexample: showing 4 turns of attack (level completed)\n\nhealth = 4\nlevel = [[4, 8], [0, 0], [0, 0], [4, 8]]\n\nturn 1:\naction = 'C'\nhealth update after turn: 4\nlevel update after turn: [[0, 8], [0, 0], [0, 0], [4, 8]]  \nenemy beaten, player will automatically move right\nthe next status of the level = [[0, 0], [0, 0], [4, 8]]\n\nturn 2:\naction = '-'\nhealth update after turn: 4\nlevel update after turn: [[0, 0], [4, 8]]\n\nturn 3:\naction = '-'\nhealth update after turn: 4\nlevel update after turn: [[4, 8]]\n\nturn 4:\naction = 'C'\nhealth update after turn: 4\nlevel update after turn: [[0, 8]]\nenemy beaten, player will automatically move right\nthe next status of the level = []       -> level completed\n\n```\n\n#### Critical attack\n\nAction <code>'A'</code> is used to indicate a critical attack. This attack has a power of <code>8</code>. This attack takes a huge amount of energy from the hero. As with the special attack, it has a cooldown period of <code>2</code> actions. However, the cooldown period can be bypassed, at the cost of health damage. \n- If the critical attack is executed twice in a row, the health decreases with <code>8</code>. \n- If it's executed with one (non critical) action in between, the health decreases with <code>4</code>.\n- So, <code>AA-</code> loses 8 health, <code>AAA</code> loses 16 health and <code>A-A</code> loses 4 health\n\n<br/>This means the hero can get defeated by his own actions. There is another cool effect of the critial attack, its range. The critical attack can hit upto four enemies, on condition there are no empty tiles between them. Also the first enemy has to be right in front of the hero for this chained attack to do damage. Each enemy in the chain gets half the damage done to the previous enemy. \n\nMaximal damage is done when four enemies are in front of you in a compact formation.\n\n```\nexample: showing 4 turns of attack (level completed)\n\nhealth = 4\nlevel = [[8, 8], [4, 8], [2, 4], [1, 1]]\n\nturn 1:\naction = 'A'\nhealth update after turn: 4\nlevel update after turn: [[0, 8], [0, 8], [0, 4], [0, 1]]  \n4 enemies beaten, player will automatically move right (1 tile max / turn)\nthe next status of the level = [[0, 0], [0, 0], [0, 0]]\n\nturn 2:\naction = '-'\nhealth update after turn: 4\nlevel update after turn: [[0, 0], [0, 0]]\n\nturn 3:\naction = '-'\nhealth update after turn: 4\nlevel update after turn: [[0, 0]]\n\nturn 4:\naction = '-'\nhealth update after turn: 4\nlevel update after turn: []\n\n```\n\nWhen the chain is broken, only the enemies chained with the first enemy in front of you get hit.\n\n```\nexample: showing 4 turns of attack (level completed)\n\nhealth = 4\nlevel = [[8, 8], [4, 8], [0, 0], [2, 4]]\n\nturn 1:\naction = 'A'\nhealth update after turn: 4\nlevel update after turn: [[0, 8], [0, 8], [0, 0], [2, 4]]  \n2 enemies beaten, player will automatically move right (1 tile max / turn)\nthe next status of the level = [[0, 0], [0, 0], [2, 4]]\n\nturn 2:\naction = '-'\nhealth update after turn: 4\nlevel update after turn: [[0, 0], [2, 4]]\n\nturn 3:\naction = '-'\nhealth update after turn: 4\nlevel update after turn: [[2, 4]]\n\nturn 4:\naction = 'B'\nhealth update after turn: 4\nlevel update after turn: [[0, 4]]\nenemy beaten, player will automatically move right\nthe next status of the level = []       -> level completed\n\n```\n\nNote that if you deal more damage to an enemy than their health, that enemy is obviously eliminated, and the measured damage is the maximum damage you would have dealt to a strong enemy, regardless of the actual health of the enemy.\n\n```\nexample: showing 2 turns of attack (level completed)\n\nhealth = 4\nlevel = [[2, 8], [4, 8]]\n\nturn 1:\naction = 'A'\nhealth update after turn: 4\nlevel update after turn: [[0, 8], [0, 8]]    -> even though 1st enemy has 2 health, we dealt 8 damage, so we could deal 4 damage to the 2nd enemy\n2 enemies beaten, player will automatically move right (1 tile max / turn)\nthe next status of the level = [[0, 0]]\n\nturn 2:\naction = '-'\nhealth update after turn: 4\nthe next status of the level = []       -> level completed\n\n```\n\n#### Don't attack\n\nAction <code>'-'</code> is used to indicate no attack is performed. When in front of an enemy, this means you give the enemy a free attack. While this is a valid option, there is no reason to use this strategy.\n\n```\nexample: showing 2 turns of attack (hero will be defeated)\n\nhealth = 4\nlevel = [[2, 2]]\n\nturn 1:\naction = '-'\nhealth update after turn: 2\nlevel update after turn: [[2, 2]]\n\nturn 1:\naction = '-'\nhealth update after turn: 0       -> hero defeated\nlevel update after turn: [[2, 2]]\n\n```\n\n</details>\n\n<details>\n  <summary style=\"\n    padding: 3px;\n    width: 100%;\n    border: none;\n    font-size: 18px;\n    box-shadow: 1px 1px 2px #bbbbbb; \n    cursor: pointer;\">\n  Examples</summary>\n\nThe following examples are available in the sample tests. Many solutions are possible. A few of the optimal solutions (least amount of health lost) are shown.\n\n```\nExample: \nhealth : 10\nlevel = [2, 2],[2, 2],[2, 2]\npossible solutions:  'A--',  'BBB',  'CBB'\n\nExample: \nhealth : 10\nlevel = [4, 2],[4, 2],[4, 2]\npossible solutions:  'CA-',  'A-B'\n\nExample: \nhealth : 10\nlevel = [8, 2],[8, 2],[8, 2]\npossible solutions:  'ABBA',  'ABCA',  'ACBA'\n\nExample: \nhealth : 10\nlevel = [8, 2],[0, 0],[0, 0],[4, 2],[0, 0],[8, 2]\npossible solutions:  'A--C-A'\n\n```\n\n<small><a href=\"https://onlinesequencer.net/1072115\">beat 'em all up!</a></small>\n\n</details>\n\n<a href=\"https://onlinesequencer.net/542695\">Good luck!</a><br />\n\n\n\n\n\n\n",
  "totalAttempts": 560,
  "totalCompleted": 28,
  "totalStars": 28,
  "voteScore": 20,
  "tags": [
    "Algorithms",
    "Games",
    "Logic",
    "Mathematics",
    "Performance",
    "Data Structures"
  ],
  "contributorsWanted": true,
  "unresolved": {
    "issues": 0,
    "suggestions": 0
  }
}